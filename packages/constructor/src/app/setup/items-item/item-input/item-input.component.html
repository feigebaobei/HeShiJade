<!-- {{formData | json}} -->
<form dForm ngForm>
    <d-form-item>
        <d-form-label [required]="true">种类</d-form-label>
        <d-form-control>
            <d-select [options]="selectOptions" 
            name="category"
            [filterKey]="'label'" [valueKey]="'value'" 
            [(ngModel)]="formData!.category"
            (ngModelChange)="categorySelectChangeH($event)"
            ></d-select>
        </d-form-control>
    </d-form-item>
    <d-form-item>
        <d-form-label [required]="true" [hasHelp]="true" [helpTips]="'This is the plan name.'">key</d-form-label>
        <d-form-control>
        <div>
            <input dTextInput autocomplete="off" name="key"
            [(ngModel)]="formData.key"
            (ngModelChange)="keyInputChangeH($event)"
            />
        </div>
        </d-form-control>
    </d-form-item>
    <d-form-item>
        <d-form-label [required]="true" [hasHelp]="true" [helpTips]="'This is the plan name.'">label</d-form-label>
        <d-form-control>
        <div>
            <input dTextInput autocomplete="off" name="label"
            [(ngModel)]="formData.label"
            (ngModelChange)="labelInputChangeH($event)"
            />
        </div>
        </d-form-control>
    </d-form-item>
    <d-form-item>
        <d-form-label [required]="true" [hasHelp]="true" [helpTips]="'This is the plan name.'">value</d-form-label>
        <d-form-control>
        <div>
            <input 
            *ngIf="['input', 'select'].includes(formData.category)"
            dTextInput autocomplete="off" name="value"
            [(ngModel)]="formData.value"
            (ngModelChange)="valueInputChangeH($event)"
            />
        </div>
        </d-form-control>
    </d-form-item>
</form>