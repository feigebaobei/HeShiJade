"use strict";(self.webpackChunkconstructor=self.webpackChunkconstructor||[]).push([[788],{3788:(On,W,h)=>{h.r(W),h.d(W,{SetupComponent:()=>Sn});var r=h(5627),u=h(3857),I=h(7136),l=h(6994),e=h(9601);let re=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[u.MD,I.MWw,l.YN]})}return i})(),le=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[u.MD,I.MWw,l.YN]})}return i})(),ce=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[u.MD,I.MWw,l.YN]})}return i})();var Y=h(6048);let G={w:4,h:2,noResize:!1},j={w:24,h:7,noResize:!1},B={w:24,h:6,noResize:!1},R={w:24,h:6,noResize:!1},L={w:4,h:2,noResize:!1},F={w:4,h:2,noResize:!1},E={w:1,h:1,noResize:!1},H={w:2,h:2,noResize:!1},D={w:24,h:6,noResize:!1},V={w:24,h:2,noResize:!1};var g=h(5738),v=h(678),$=h(5680);const de=["compStackHeader"],ue=["compStackBody"],he=i=>({box:!0,disvisible:i});function me(i,p){1&i&&(e.j41(0,"span"),e.EFF(1,"\u6b64\u533a\u57df\u53ef\u63a5\u6536\u5b50\u7ec4\u4ef6"),e.k0s())}function ge(i,p){1&i&&(e.j41(0,"span"),e.EFF(1,"\u6b64\u533a\u57df\u53ef\u63a5\u6536\u5b50\u7ec4\u4ef6"),e.k0s())}let X=console.log,J={Button:G,Modal:j,Form:B,Table:R,Input:L,Select:F,Icon:E,Checkbox:H,Tabs:D,Pagination:V},Q=(()=>{class i{constructor(t,o,n){this.componentService=t,this.pageService=o,this.appService=n,this.childrenHeader=[],this.childrenBody=[],this.childrenFooter=[],this.page=this.pageService.getCurPage()}ngOnInit(){let t=this.componentService.getTree(this.page.ulid);if(t){let o=t.find(this.data.ulid),n=o?.children[(0,r.EP)("slots","header","node")];this.childrenHeader=n?.toArray()||[];let s=o?.children[(0,r.EP)("slots","body","node")];this.childrenBody=s?.toArray()||[];let a=o?.children[(0,r.EP)("slots","footer","node")];this.childrenFooter=a?.toArray()||[]}}dropHeaderH(t){let o=this.appService.getCurApp()?.ulid||"",n=this.pageService.getCurPage()?.ulid||"",s=t.dragData.item.componentCategory,a=J[s],c=(0,r.zG)(s,o,n,this.childrenHeader.length?this.childrenHeader[this.childrenHeader.length-1].ulid:"","",this.data.ulid,{area:"slots",slotKey:"header"},{x:0,y:0,w:a.w,h:a.h,noResize:a.noResize});this.childrenHeader.push(c),this.componentService.mountComponent(this.page.ulid,c),this.componentService.reqCreateComponent(c).then(()=>{X("\u6210\u529f\u5728\u8fdc\u7aef\u4fdd\u5b58\u7ec4\u4ef6")}).catch(d=>{X("error",d)}),this.compStackHeader.init()}dropBodyH(t){let o=this.appService.getCurApp()?.ulid||"",n=this.pageService.getCurPage()?.ulid||"",s=t.dragData.item.componentCategory,a=J[s],c=(0,r.zG)(s,o,n,this.childrenBody.length?this.childrenBody[this.childrenBody.length-1].ulid:"","",this.data.ulid,{area:"slots",slotKey:"body"},{x:0,y:0,w:a.w,h:a.h,noResize:a.noResize});this.childrenBody.push(c),this.componentService.mountComponent(this.page.ulid,c),this.componentService.reqCreateComponent(c).then(()=>{X("\u6210\u529f\u5728\u8fdc\u7aef\u4fdd\u5b58\u7ec4\u4ef6")}).catch(d=>{X("error",d)}),this.compStackBody.init()}headerDeleteComponentByUlidH(t){this.childrenHeader=this.childrenHeader.filter(n=>n.ulid!==t);let o=this.componentService.getChildrenComponent(this.page.ulid,t).map(n=>n.ulid);this.componentService.deleteByUlid(this.page.ulid,t),this.componentService.reqDeleteComponent(t,o),(0,r.$m)(()=>{this.compStackHeader.init()})}bodyDeleteComponentByUlidH(t){this.childrenBody=this.childrenBody.filter(n=>n.ulid!==t);let o=this.componentService.getChildrenComponent(this.page.ulid,t).map(n=>n.ulid);this.componentService.deleteByUlid(this.page.ulid,t),this.componentService.reqDeleteComponent(t,o),(0,r.$m)(()=>{this.compStackBody.init()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b),e.rXU(v.b),e.rXU($.d))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-modal"]],viewQuery:function(o,n){if(1&o&&(e.GBs(de,5),e.GBs(ue,5)),2&o){let s;e.mGM(s=e.lsd())&&(n.compStackHeader=s.first),e.mGM(s=e.lsd())&&(n.compStackBody=s.first)}},inputs:{data:"data"},decls:20,vars:10,consts:[["compStackHeader",""],["compStackBody",""],[1,"header"],[1,"title_box"],[1,"title"],[3,"icon"],["dDroppable","",1,"droppable",3,"dropEvent"],[4,"ngIf"],[3,"deleteComp","componentList"]],template:function(o,n){if(1&o){const s=e.RV6();e.j41(0,"div")(1,"header",2)(2,"div",3)(3,"h2",4),e.EFF(4),e.k0s(),e.nrm(5,"d-icon",5),e.k0s(),e.j41(6,"div",6),e.bIt("dropEvent",function(c){return e.eBV(s),e.Njj(n.dropHeaderH(c))}),e.DNE(7,me,2,0,"span",7),e.j41(8,"app-comp-stack",8,0),e.bIt("deleteComp",function(c){return e.eBV(s),e.Njj(n.headerDeleteComponentByUlidH(c))}),e.k0s()()(),e.nrm(10,"hr"),e.j41(11,"main",6),e.bIt("dropEvent",function(c){return e.eBV(s),e.Njj(n.dropBodyH(c))}),e.DNE(12,ge,2,0,"span",7),e.j41(13,"app-comp-stack",8,1),e.bIt("deleteComp",function(c){return e.eBV(s),e.Njj(n.bodyDeleteComponentByUlidH(c))}),e.k0s()(),e.j41(15,"footer")(16,"d-button"),e.EFF(17,"\u53d6\u6d88"),e.k0s(),e.j41(18,"d-button"),e.EFF(19,"\u786e\u5b9a"),e.k0s()()()}2&o&&(e.HbH(e.eq3(8,he,!n.data.props.visible)),e.R7$(4),e.JRh(n.data.props.title),e.R7$(),e.Y8G("icon","icon-close"),e.R7$(2),e.Y8G("ngIf",!n.childrenHeader.length),e.R7$(),e.Y8G("componentList",n.childrenHeader),e.R7$(4),e.Y8G("ngIf",!n.childrenBody.length),e.R7$(),e.Y8G("componentList",n.childrenBody))},styles:[".disvisible[_ngcontent-%COMP%]{background:#eee}.header[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 6px}.header[_ngcontent-%COMP%]   .title_box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0}.droppable[_ngcontent-%COMP%]{border:1px solid #333;background:#ddd;padding:16px}"]})}return i})();const _e=["datatable"],fe=["compStack"];function Ce(i,p){1&i&&(e.j41(0,"div"),e.EFF(1," \u5360\u4f4d\u6587\u672c "),e.k0s())}function ve(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-comp-stack",10,1),e.bIt("deleteComp",function(n){e.eBV(t);const s=e.XpG(3).index,a=e.XpG();return e.Njj(a.deleteComponentByUlidH(n,s))}),e.k0s()}if(2&i){const t=e.XpG(3).index,o=e.XpG();e.Y8G("componentList",o.compCompList(t))}}function be(i,p){if(1&i){const t=e.RV6();e.j41(0,"div",8),e.bIt("dropEvent",function(n){e.eBV(t);const s=e.XpG(2),a=s.$implicit,c=s.index,d=e.XpG();return e.Njj(d.dropH(n,a.field,c))}),e.DNE(1,ve,2,1,"app-comp-stack",9),e.k0s()}if(2&i){const t=e.XpG(2).index,o=e.XpG();e.R7$(),e.Y8G("ngIf",o.showList[t])}}function ye(i,p){if(1&i&&e.DNE(0,Ce,2,0,"div",6)(1,be,2,1,"div",7),2&i){const t=e.XpG().$implicit;e.Y8G("ngIf","fill"===t.category),e.R7$(),e.Y8G("ngIf","slots"===t.category)}}function xe(i,p){if(1&i&&(e.j41(0,"d-column",5)(1,"d-cell"),e.DNE(2,ye,2,2,"ng-template"),e.k0s()()),2&i){const t=p.$implicit;e.Y8G("field",t.field)("header",t.header)("maxWidth",t.maxWidth)("width",t.width)("minWidth",t.minWidth)("filterable",t.filterable)("filterMultiple",t.filterMultiple)("closeFilterWhenScroll",t.closeFilterWhenScroll)("sortable",t.sortable)("fixedLeft",t.fixedLeft)("fixedRight",t.fixedRight)}}function Ie(i,p){1&i&&(e.j41(0,"div",11),e.EFF(1," placeholder for Table\n"),e.k0s())}let ke={Button:G,Modal:j,Form:B,Table:R,Input:L,Select:F,Icon:E,Checkbox:H,Tabs:D,Pagination:V},Z=(console,(()=>{class i{constructor(t,o){this.pageService=t,this.componentService=o,this.basicDataSource=[{id:1,firstName:"Mark",lastName:"Otto",dob:new Date(1990,12,1),gender:"Male",description:"handsome man"},{id:2,firstName:"Jacob",lastName:"Thornton",gender:"Female",dob:new Date(1989,1,1),description:"interesting man"},{id:3,firstName:"Danni",lastName:"Chen",gender:"Female",dob:new Date(1991,3,1),description:"pretty man"},{id:4,firstName:"green",lastName:"gerong",gender:"Male",description:"interesting man",dob:new Date(1991,3,1)}],this.compObj={},this.createChildKey=r.EP,this.curPage=this.pageService.getCurPage(),this.componentList=[],this.showList=[]}compCompList(t){return(0,r.kD)(this.compObj[(0,r.EP)("items",t,"component")])}ngOnInit(){this.compObj={};let t=this.componentService.getTree(this.curPage.ulid);this.data.items.forEach((o,n)=>{if("slots"===o.category){let s=t?.find(o.childUlid);s&&(this.compObj[(0,r.EP)("items",n,"component")]=s.toArray())}this.showList.push(!0)})}dropH(t,o,n){new Promise((s,a)=>{s(!0)}).then(()=>{this.showList[n]=!1;let s,a=(0,r.EP)("items",n,"component"),c=t.dragData.item.componentCategory,d=ke[c];this.compObj[a]?.length?(s=(0,r.zG)(c,this.curPage.appUlid,this.curPage.ulid,this.compObj[a][this.compObj[a].length-1].ulid,"",this.data.ulid,{area:"items",itemIndex:n},{x:0,y:0,w:d.w,h:d.h,noResize:d.noResize}),this.compObj[a].push(s)):(s=(0,r.zG)(c,this.curPage.appUlid,this.curPage.ulid,"","",this.data.ulid,{area:"items",itemIndex:n},{x:0,y:0,w:d.w,h:d.h,noResize:d.noResize}),this.compObj[a]=[s]),this.componentService.mountComponent(this.curPage.ulid,s),this.componentService.reqCreateComponent(s)}).then(()=>{(0,r.$m)(()=>{this.showList[n]=!0})})}deleteComponentByUlidH(t,o){let n=(0,r.EP)("items",o,"component");this.compObj[n]=this.compObj[n].filter(a=>a.ulid!==t);let s=this.componentService.getChildrenComponent(this.curPage.ulid,t).map(a=>a.ulid);this.componentService.deleteByUlid(this.curPage.ulid,t),this.componentService.reqDeleteComponent(t,s),(0,r.$m)(()=>{this.compStack.init()})}ngAfterViewInit(){}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(v.b),e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-table"]],viewQuery:function(o,n){if(1&o&&(e.GBs(_e,5),e.GBs(fe,5)),2&o){let s;e.mGM(s=e.lsd())&&(n.datatable=s.first),e.mGM(s=e.lsd())&&(n.compStack=s.first)}},inputs:{data:"data"},decls:4,vars:22,consts:[["datatable",""],["compStack",""],[3,"tableWidth","maxWidth","maxHeight","minHeight","size","fixHeader","colDraggable","virtualScroll","virtualItemSize","virtualMinBufferPx","checkable","resizeable","headerBg","tableLayout","borderType","striped","shadowType","tableOverflowType","dataSource","scrollable"],[3,"field","header","maxWidth","width","minWidth","filterable","filterMultiple","closeFilterWhenScroll","sortable","fixedLeft","fixedRight",4,"ngFor","ngForOf"],["class","placeholderBox",4,"ngIf"],[3,"field","header","maxWidth","width","minWidth","filterable","filterMultiple","closeFilterWhenScroll","sortable","fixedLeft","fixedRight"],[4,"ngIf"],["dDroppable","","class","dropArea",3,"dropEvent",4,"ngIf"],["dDroppable","",1,"dropArea",3,"dropEvent"],[3,"componentList","deleteComp",4,"ngIf"],[3,"deleteComp","componentList"],[1,"placeholderBox"]],template:function(o,n){1&o&&(e.j41(0,"d-data-table",2,0),e.DNE(2,xe,3,11,"d-column",3),e.k0s(),e.DNE(3,Ie,2,0,"div",4)),2&o&&(e.Y8G("tableWidth",n.data.props.tableWidth)("maxWidth",n.data.props.maxWidth)("maxHeight",n.data.props.maxHeight)("minHeight",n.data.props.minHeight)("size",n.data.props.size)("fixHeader",n.data.props.fixHeader)("colDraggable",n.data.props.colDraggable)("virtualScroll",n.data.props.virtualScroll)("virtualItemSize",n.data.props.virtualItemSize)("virtualMinBufferPx",n.data.props.virtualMinBufferPx)("checkable",n.data.props.checkable)("resizeable",n.data.props.resizeable)("headerBg",n.data.props.headerBg)("tableLayout",n.data.props.tableLayout)("borderType",n.data.props.borderType)("striped",n.data.props.striped)("shadowType",n.data.props.shadowType)("tableOverflowType",n.data.props.tableOverflowType)("dataSource",n.basicDataSource)("scrollable",!0),e.R7$(2),e.Y8G("ngForOf",n.data.items),e.R7$(),e.Y8G("ngIf",!n.data.items.length))},styles:[".placeholderBox[_ngcontent-%COMP%]{border:1px solid #333}.dropArea[_ngcontent-%COMP%]{background:#969798;border:1ps solid #333;padding-top:18px;padding-bottom:48px}"]})}return i})());var k=h(1445);let Pe=Object.create({},{get:{writable:!1,enumerable:!0,configurable:!0,value:function(i){return this._map.get(i)}},set:{writable:!1,enumerable:!0,configurable:!0,value:function(i,p){this._map.set(i,p),this.isDoubleDirection?(this._map.set(i,p),this._map.set(p,i)):this._map.set(i,p)}},delete:{writable:!1,enumerable:!0,configurable:!0,value:function(i){let p=this.get(i);this.isDoubleDirection?(this._map.delete(p),this._map.delete(i)):this._map.delete(i)}}});var Te=h(9477);const Se=["compStack"];function Oe(i,p){1&i&&(e.j41(0,"span"),e.EFF(1,"\u6b64\u533a\u57df\u53ef\u63a5\u6536\u5b50\u7ec4\u4ef6"),e.k0s())}function we(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-comp-stack",8,0),e.bIt("deleteComp",function(n){e.eBV(t);const s=e.XpG().index,a=e.XpG(2);return e.Njj(a.deleteComponentByUlidH(n,s))})("change",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.compStackChangeH(n))}),e.k0s()}if(2&i){const t=e.XpG(3);e.Y8G("componentList",t.componentList)}}function Ge(i,p){if(1&i){const t=e.RV6();e.j41(0,"d-tab",5)(1,"div",6),e.bIt("dropEvent",function(n){const s=e.eBV(t).index,a=e.XpG(2);return e.Njj(a.dropH(n,s))}),e.DNE(2,Oe,2,0,"span",2)(3,we,2,1,"app-comp-stack",7),e.k0s()()}if(2&i){const t=p.$implicit,o=e.XpG(2);e.Y8G("id",t.id)("title",t.title)("disabled",t.disabled),e.R7$(2),e.Y8G("ngIf",!o.componentList.length),e.R7$(),e.Y8G("ngIf",o.show)}}function je(i,p){if(1&i){const t=e.RV6();e.j41(0,"d-tabs",3),e.mxI("activeTabChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.data.props.activeTab,n)||(s.data.props.activeTab=n),e.Njj(n)}),e.bIt("activeTabChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.activeTabChangeH())}),e.DNE(1,Ge,4,5,"d-tab",4),e.k0s()}if(2&i){const t=e.XpG();e.R50("activeTab",t.data.props.activeTab),e.Y8G("type",t.data.props.type)("size",t.data.props.size)("customWidth",t.data.props.customWidth)("closeable",t.data.props.closeable)("scrollMode",t.data.props.scrollMode)("isHidden",t.data.props.isHidden),e.R7$(),e.Y8G("ngForOf",t.data.items)}}function Be(i,p){1&i&&(e.j41(0,"div"),e.EFF(1,"placeholder for Tabs"),e.k0s())}let P=console.log,Re={Button:G,Modal:j,Form:B,Table:R,Input:L,Select:F,Icon:E,Checkbox:H,Tabs:D,Pagination:V},ee=(()=>{class i{constructor(t,o){this.pageService=t,this.componentService=o,this.compObj={},this.curPage=this.pageService.getCurPage(),this.compatibleArray=r.kD,this.componentList=[],this.itemIndexSlotKeyMap=((i=!0)=>Object.create(Pe,{_map:{writable:!0,value:new Map},isDoubleDirection:{writable:!1,value:i}}))(),this.show=!0,this.listenAddItemCb=n=>{let s=(0,Te.Z0)();this.itemIndexSlotKeyMap.set(String(n.index),s),P("listenAddItemCb shareEventName",n,this.itemIndexSlotKeyMap),this.componentService.addSlots(s,""),this.componentService.reqAddSlots(s,""),P("add items after",this.data)},this.listenRemoveItemCb=n=>{let s=this.itemIndexSlotKeyMap.get(String(n.index));this.deleteItemIndexSlotKeyMap({itemIndex:n.index}),P("this.itemIndexSlotKeyMap",this.itemIndexSlotKeyMap);let a=[];this.componentService.removeSlots(s),this.componentService.reqRemoveSlots(s);let c=(0,r.kD)(this.compObj[this.createChildKey({slotKey:s})]);P("compList",c),c.forEach(d=>{this.componentService.deleteByUlid(this.curPage.ulid,d.ulid),a.push(d.ulid),a.push(...this.componentService.getChildrenComponent(this.curPage.ulid,d.ulid).map(T=>T.ulid))}),delete this.compObj[this.createChildKey({slotKey:s})],P("compObj",this.compObj),this.componentService.reqDeleteComponent("",a)}}ngOnInit(){this.compObj={};let t=this.componentService.getTree(this.curPage.ulid);if(t){let o=t.find(this.data.ulid);Object.entries(o?.value.slots||{}).forEach(([n,s])=>{let a=this.createChildKey({slotKey:n}),c=t.find(s);this.compObj[a]=(0,r.kD)(c?.toArray())})}Array.from(Object.entries(this.data.slots)).forEach(([o,n],s)=>{this.itemIndexSlotKeyMap.set(String(s),o)}),P("this.itemIndexSlotKeyMap",this.itemIndexSlotKeyMap),this.listen(),this.selectTab()}ngOnDestroy(){r.AX.off(k.vo.TABSADDITEM+this.data.ulid,this.listenAddItemCb),r.AX.off(k.vo.TABSREMOVEITEM+this.data.ulid,this.listenRemoveItemCb)}createChildKey(t){let o=t.slotKey||this.itemIndexSlotKeyMap.get(String(t.itemIndex))||"";return(0,r.EP)("slots",o,"component")}listen(){r.AX.on(k.vo.TABSADDITEM+this.data.ulid,this.listenAddItemCb),r.AX.on(k.vo.TABSREMOVEITEM+this.data.ulid,this.listenRemoveItemCb)}selectTab(){new Promise((t,o)=>{t(!0)}).then(()=>{this.show=!1;let t=this.data.props.activeTab;if(t){let o=this.data.items.findIndex(s=>s.id===t),n=this.itemIndexSlotKeyMap.get(String(o));this.setComponentList(n)}else this.setComponentList("");return!!this.componentList.length}).then(t=>{(0,r.$m)(()=>{this.show=t})})}ngAfterViewChecked(){}setComponentList(t){let o=this.createChildKey({slotKey:t});this.componentList=(0,r.kD)(this.compObj[o])}dropH(t,o){new Promise((n,s)=>{n(!0)}).then(()=>{this.show=!1;let n,s=this.createChildKey({itemIndex:o}),a=t.dragData.item.componentCategory,c=Re[a];if(n=(0,r.zG)(a,this.curPage.appUlid,this.curPage.ulid,this.compObj[s]?.length?this.compObj[s][this.compObj[s].length-1].ulid:"","",this.data.ulid,{area:"slots",slotKey:this.itemIndexSlotKeyMap.get(String(o))},{x:0,y:0,w:c.w,h:c.h,noResize:c.noResize}),this.compObj[s]?.length)this.compObj[s].push(n);else{this.compObj[s]=[n];let d=this.itemIndexSlotKeyMap.get(String(o));this.data.slots[d]=n.ulid}return this.componentService.mountComponent(this.curPage.ulid,n),this.componentService.reqCreateComponent(n),this.setComponentList(this.itemIndexSlotKeyMap.get(String(o))),!0}).then(()=>{(0,r.$m)(()=>{this.show=!0})})}deleteComponentByUlidH(t,o){new Promise((n,s)=>{this.show=!1,n(!0)}).then(()=>{let n=this.createChildKey({itemIndex:o});this.compObj[n]=this.compObj[n].filter(a=>a.ulid!==t),this.componentList=(0,r.kD)(this.compObj[n]);let s=this.componentService.getChildrenComponent(this.curPage.ulid,t).map(a=>a.ulid);return this.componentService.deleteByUlid(this.curPage.ulid,t),this.componentService.reqDeleteComponent(t,s),!0}).then(()=>{this.show=!0})}activeTabChangeH(){new Promise((t,o)=>{t(!0)}).then(()=>{this.show=!1;let t=this.data.props.activeTab,o=0;return Array.from(Object.entries(this.data.items)).forEach(([n,s],a)=>{s.id===t&&(o=a)}),this.setComponentList(this.itemIndexSlotKeyMap.get(String(o))),!0}).then(()=>{(0,r.$m)(()=>{this.show=!0},0)})}compStackChangeH(t){let o=this.componentList.find(n=>n.ulid===t.ulid);o&&(o.gridLayout.x=t.x,o.gridLayout.y=t.y,o.gridLayout.w=t.w,o.gridLayout.h=t.h)}deleteItemIndexSlotKeyMap(t){let o=this.data.items.length+1;if(t.slotKey){let n=this.itemIndexSlotKeyMap.get(t.slotKey);this.itemIndexSlotKeyMap.delete(t.slotKey);for(let s=Number(n);s<o;s++)this.itemIndexSlotKeyMap.set(String(s),this.itemIndexSlotKeyMap.get(String(s+1))),this.itemIndexSlotKeyMap.delete(String(s))}else if(Number(t.itemIndex)>-1){this.itemIndexSlotKeyMap.delete(String(t.itemIndex));for(let n=Number(t.itemIndex);n<o;n++)this.itemIndexSlotKeyMap.set(String(n),this.itemIndexSlotKeyMap.get(String(n+1))),this.itemIndexSlotKeyMap.delete(String(n))}}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(v.b),e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-tabs"]],viewQuery:function(o,n){if(1&o&&e.GBs(Se,5),2&o){let s;e.mGM(s=e.lsd())&&(n.compStack=s.first)}},inputs:{data:"data"},decls:2,vars:2,consts:[["compStack",""],[3,"activeTab","type","size","customWidth","closeable","scrollMode","isHidden","activeTabChange",4,"ngIf"],[4,"ngIf"],[3,"activeTabChange","activeTab","type","size","customWidth","closeable","scrollMode","isHidden"],[3,"id","title","disabled",4,"ngFor","ngForOf"],[3,"id","title","disabled"],["dDroppable","",1,"dropArea",3,"dropEvent"],[3,"componentList","deleteComp","change",4,"ngIf"],[3,"deleteComp","change","componentList"]],template:function(o,n){1&o&&e.DNE(0,je,2,8,"d-tabs",1)(1,Be,2,0,"div",2),2&o&&(e.Y8G("ngIf",n.data.items.length),e.R7$(),e.Y8G("ngIf",!n.data.items.length))},styles:[".dropArea[_ngcontent-%COMP%]{background:#969798;border:1ps solid #333;padding-top:18px;padding-bottom:48px}"]})}return i})();var _=h(3357);let te=(()=>{class i{constructor(t){this.viewContainerRef=t}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:i,selectors:[["","compHost",""]]})}return i})(),Le=(()=>{class i{constructor(){this.data={}}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-button"]],inputs:{data:"data"},decls:2,vars:10,consts:[[3,"type","bsStyle","bsSize","bordered","icon","shape","showLoading","width","disabled"]],template:function(o,n){1&o&&(e.j41(0,"d-button",0),e.EFF(1),e.k0s()),2&o&&(e.Y8G("type",n.data.props.type)("bsStyle",n.data.props.bsStyle)("bsSize",n.data.props.bsSize)("bordered",n.data.props.bordered)("icon",n.data.props.icon)("shape",n.data.props.shape)("showLoading",n.data.props.showLoading)("width",n.data.props.width)("disabled",n.data.props.disabled),e.R7$(),e.SpI("\n",n.data.props.text,"\n"))},dependencies:[_.Qp]})}return i})();var m=h(1547),O=h(1744),z=h(8313),C=h(4947);function Fe(i,p){if(1&i&&e.nrm(0,"input",9),2&i){const t=e.XpG().$implicit;e.Y8G("value",t.value)}}function Ee(i,p){if(1&i&&e.nrm(0,"d-select",10),2&i){const t=e.XpG().$implicit;e.Y8G("options",t.options)("filterKey","label")("ngModel",t.value)}}function He(i,p){if(1&i&&e.nrm(0,"d-toggle",11),2&i){const t=e.XpG().$implicit;e.Y8G("checked",t.checked)}}function De(i,p){if(1&i&&(e.j41(0,"div")(1,"d-form-item")(2,"d-form-label",4),e.EFF(3),e.k0s(),e.j41(4,"d-form-control",5)(5,"div"),e.DNE(6,Fe,1,1,"input",6)(7,Ee,1,3,"d-select",7)(8,He,1,1,"d-toggle",8),e.k0s()()()()),2&i){const t=p.$implicit;e.R7$(2),e.Y8G("required",t.required)("hasHelp",t.hasHelp)("helpTips",t.helpTips),e.R7$(),e.JRh(t.label),e.R7$(),e.Y8G("extraInfo",t.extraInfo),e.R7$(2),e.Y8G("ngIf","input"===t.category),e.R7$(),e.Y8G("ngIf","select"===t.category),e.R7$(),e.Y8G("ngIf","switch"===t.category)}}function Ve(i,p){1&i&&(e.j41(0,"d-button",12),e.EFF(1,"Submit"),e.k0s())}function Xe(i,p){1&i&&(e.j41(0,"d-button",13),e.EFF(1,"Cancel"),e.k0s())}console;let Ne=(()=>{class i{constructor(){this.layoutDirection=m.Hb.Vertical}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-form"]],inputs:{data:"data"},decls:5,vars:6,consts:[["dForm","","ngForm","",3,"layout","labelSize","labelAlign"],[4,"ngFor","ngForOf"],["bsStyle","primary","class","mr-element-spacing","circled","true","style","margin-right: 4px",4,"ngIf"],["bsStyle","common","circled","true",4,"ngIf"],[3,"required","hasHelp","helpTips"],[3,"extraInfo"],["dTextInput","","autocomplete","off",3,"value",4,"ngIf"],["name","value",3,"options","filterKey","ngModel",4,"ngIf"],[3,"checked",4,"ngIf"],["dTextInput","","autocomplete","off",3,"value"],["name","value",3,"options","filterKey","ngModel"],[3,"checked"],["bsStyle","primary","circled","true",1,"mr-element-spacing",2,"margin-right","4px"],["bsStyle","common","circled","true"]],template:function(o,n){1&o&&(e.j41(0,"form",0),e.DNE(1,De,9,8,"div",1),e.j41(2,"d-form-operation"),e.DNE(3,Ve,2,0,"d-button",2)(4,Xe,2,0,"d-button",3),e.k0s()()),2&o&&(e.Y8G("layout",n.data.props.layout)("labelSize",n.data.props.labelSize)("labelAlign",n.data.props.labelAlign),e.R7$(),e.Y8G("ngForOf",n.data.items),e.R7$(2),e.Y8G("ngIf",n.data.props.isSubmit),e.R7$(),e.Y8G("ngIf",n.data.props.isCancel))},dependencies:[u.Sq,u.bT,_.Qp,m.N5,m.Me,m.f,m.tz,m.CW,O.wB,z.a,C.l,l.qT,l.BC,l.cb,l.vS,l.cV]})}return i})(),Ue=(()=>{class i{constructor(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-input"]],inputs:{data:"data"},decls:1,vars:6,consts:[["dTextInput","",3,"ngModel","placeholder","error","size","showGlowStyle","styleType"]],template:function(o,n){1&o&&e.nrm(0,"input",0),2&o&&e.Y8G("ngModel",n.data.props.value)("placeholder",n.data.props.placeholder)("error",n.data.props.error)("size",n.data.props.size)("showGlowStyle",n.data.props.showGlowStyle)("styleType",n.data.props.styleType)},dependencies:[C.l,l.me,l.BC,l.vS],styles:[".box[_ngcontent-%COMP%]{padding:4px 8px}"]})}return i})(),Ye=(()=>{class i{constructor(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-select"]],inputs:{data:"data"},decls:1,vars:21,consts:[[3,"ngModel","styleType","options","isSearch","scrollHight","multiple","isSelectAll","readonly","disabled","size","placeholder","searchPlaceholder","direction","overview","appendToBody","allowClear","showAnimation","color","showGlowStyle","filterKey","valueKey"]],template:function(o,n){1&o&&e.nrm(0,"d-select",0),2&o&&e.Y8G("ngModel",n.data.props.value)("styleType",n.data.props.styleType)("options",n.data.props.options)("isSearch",n.data.props.isSearch)("scrollHight",n.data.props.scrollHight)("multiple",n.data.props.multiple)("isSelectAll",n.data.props.isSelectAll)("readonly",n.data.props.readonly)("disabled",n.data.props.disabled)("size",n.data.props.size)("placeholder",n.data.props.placeholder)("searchPlaceholder",n.data.props.searchPlaceholder)("direction",n.data.props.direction)("overview",n.data.props.overview)("appendToBody",n.data.props.appendToBody)("allowClear",n.data.props.allowClear)("showAnimation",n.data.props.showAnimation)("color",n.data.props.color)("showGlowStyle",n.data.props.showGlowStyle)("filterKey","label")("valueKey","value")},dependencies:[O.wB,l.BC,l.vS]})}return i})();var b=h(8950);let $e=(()=>{class i{constructor(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-icon"]],inputs:{data:"data"},decls:1,vars:5,consts:[[3,"icon","operable","disabled","color"]],template:function(o,n){1&o&&e.nrm(0,"d-icon",0),2&o&&e.Y8G("icon",n.data.props.icon)("operable",n.data.props.operable)("disabled",n.data.props.disabled)("icon",n.data.props.icon)("color",n.data.props.color)},dependencies:[b.Rl]})}return i})();var ze=h(3886);let Ae=(()=>{class i{constructor(){}changeH(t){console.log("changeH",t)}beforeChangeH(){return!1}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-checkbox"]],inputs:{data:"data"},decls:1,vars:8,consts:[[3,"change","label","ngModel","disabled","halfchecked","color","showAnimation","showGlowStyle","beforeChange"]],template:function(o,n){1&o&&(e.j41(0,"d-checkbox",0),e.bIt("change",function(a){return n.changeH(a)}),e.k0s()),2&o&&e.Y8G("label",n.data.props.label)("ngModel",n.data.props.value)("disabled",n.data.props.disabled)("halfchecked",n.data.props.halfchecked)("color",n.data.props.color)("showAnimation",n.data.props.showAnimation)("showGlowStyle",n.data.props.showGlowStyle)("beforeChange",n.beforeChangeH)},dependencies:[ze.$W,l.BC,l.vS]})}return i})();var Ke=h(4037);function We(i,p){}console;let Je={Button:Le,Form:Ne,Input:Ue,Modal:Q,Select:Ye,Table:Z,Icon:$e,Checkbox:Ae,Tabs:ee,Pagination:(()=>{class i{constructor(){this.pageSizeOptions=[]}ngOnInit(){this.pageSizeOptions=this.data.props.pageSizeOptions.split(",").map(t=>Number(t))}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-pagination"]],inputs:{data:"data"},decls:1,vars:21,consts:[[3,"pageSize","total","pageSizeOptions","pageSizeDirection","pageIndex","maxItems","preLink","nextLink","size","canJumpPage","canChangePageSize","canViewTotal","totalItemText","goToText","showJumpButton","showTruePageIndex","lite","showPageSelector","haveConfigMenu","autoFixPageIndex","autoHide"]],template:function(o,n){1&o&&e.nrm(0,"d-pagination",0),2&o&&e.Y8G("pageSize",n.data.props.pageSize)("total",n.data.props.total)("pageSizeOptions",n.pageSizeOptions)("pageSizeDirection",n.data.props.pageSizeDirection)("pageIndex",n.data.props.pageIndex)("maxItems",n.data.props.maxItems)("preLink",n.data.props.preLink)("nextLink",n.data.props.nextLink)("size",n.data.props.size)("canJumpPage",n.data.props.canJumpPage)("canChangePageSize",n.data.props.canChangePageSize)("canViewTotal",n.data.props.canViewTotal)("totalItemText",n.data.props.totalItemText)("goToText",n.data.props.goToText)("showJumpButton",n.data.props.showJumpButton)("showTruePageIndex",n.data.props.showTruePageIndex)("lite",n.data.props.lite)("showPageSelector",n.data.props.showPageSelector)("haveConfigMenu",n.data.props.haveConfigMenu)("autoFixPageIndex",n.data.props.autoFixPageIndex)("autoHide",n.data.props.autoHide)},dependencies:[Ke.e]})}return i})()},Qe=(()=>{class i{constructor(t,o){this.componentService=t,this.pageService=o,this.deleteComp=new e.bkB,this.curComp=null,this.componentService.curComponent$.subscribe(n=>{this.curComp=n}),this.curPage=this.pageService.getCurPage(),this.componentService.props$.subscribe(n=>{this.comp.ulid===n.componentUlid&&this.init()})}ngOnInit(){}init(){if(!this.compHost)return;const t=this.compHost.viewContainerRef;switch(t.clear(),this.componentRef=t.createComponent(Je[this.comp.type]),this.comp.type){case"Button":this.componentRef.instance.data={props:this.comp.props,slots:this.comp.slots,ulid:this.comp.ulid};break;case"Input":case"Select":case"Icon":case"Checkbox":this.componentRef.instance.data={props:this.comp.props,ulid:this.comp.ulid};break;case"Modal":this.componentRef.instance.data={props:this.comp.props,slots:this.comp.slots,ulid:this.comp.ulid,mount:this.comp.mount};break;case"Form":this.componentRef.instance.data={ulid:this.comp.ulid,props:this.comp.props,items:this.comp.items,mount:this.comp.mount};break;case"Table":case"Pagination":this.componentRef.instance.data={props:this.comp.props,items:this.comp.items,ulid:this.comp.ulid};break;case"Tabs":this.componentRef.instance.data={props:this.comp.props,items:this.comp.items,slots:this.comp.slots,ulid:this.comp.ulid}}}ngAfterViewInit(){}ngAfterContentInit(){this.init()}ngAfterViewChecked(){}ngOnDestroy(){this.compHost.viewContainerRef.clear()}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b),e.rXU(v.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-comp-box"]],viewQuery:function(o,n){if(1&o&&e.GBs(te,7),2&o){let s;e.mGM(s=e.lsd())&&(n.compHost=s.first)}},inputs:{comp:"comp"},outputs:{deleteComp:"deleteComp"},decls:2,vars:0,consts:[[1,"comp-box"],["compHost",""]],template:function(o,n){1&o&&(e.j41(0,"div",0),e.DNE(1,We,0,0,"ng-template",1),e.k0s())},dependencies:[te],styles:[".comp-box[_ngcontent-%COMP%]{margin:4px}"]})}return i})();const Ze=i=>({selected:i});function et(i,p){if(1&i){const t=e.RV6();e.j41(0,"div",5)(1,"d-button",6),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,s=e.XpG();return e.Njj(s.deleteComponentByUlidH(n.comp.ulid))}),e.k0s()()}}function tt(i,p){if(1&i){const t=e.RV6();e.j41(0,"gridstack-item",2),e.bIt("click",function(n){const s=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.gridStackItemClickH(n,s))}),e.DNE(1,et,2,0,"div",3),e.nrm(2,"app-comp-box",4),e.k0s()}if(2&i){const t=p.$implicit,o=e.XpG();e.Y8G("options",t)("ngClass",e.eq3(4,Ze,t.id===(null==o.curComponent?null:o.curComponent.ulid))),e.R7$(),e.Y8G("ngIf",t.id===(null==o.curComponent?null:o.curComponent.ulid)),e.R7$(),e.Y8G("comp",t.comp)}}let ne=console.log,N=(()=>{class i{constructor(t,o){this.componentService=t,this.pageService=o,this.componentList=[],this.deleteComp=new e.bkB,this.change=new e.bkB,this._componentList=[],this.gridOptions={margin:2,float:!0,column:24}}ngOnInit(){this.curPage=this.pageService.getCurPage(),this.componentService.curComponent$.subscribe(t=>{this.curComponent=t}),this.init()}ngOnDestroy(){}init(){this._componentList=[],this.componentList.forEach(t=>{this._componentList.push({x:t.gridLayout.x,y:t.gridLayout.y,w:t.gridLayout.w,h:t.gridLayout.h,id:t.ulid,comp:t,noResize:t.gridLayout.noResize})}),ne("this._componentList",this._componentList)}changeCBH(t){let o=this._componentList.find(n=>n.id===t.nodes[0].id);if(o){o.x=t.nodes[0].x,o.y=t.nodes[0].y,o.w=t.nodes[0].w,o.h=t.nodes[0].h,ne(o);let n={x:t.nodes[0].x,y:t.nodes[0].y,w:t.nodes[0].w,h:t.nodes[0].h};this.componentService.setComponentProp("gridLayout",n),this.change.emit({ulid:o.comp.ulid,...n}),this.componentService.reqUpdateComponentProps("gridLayout","x",t.nodes[0].x,o.comp.ulid),this.componentService.reqUpdateComponentProps("gridLayout","y",t.nodes[0].y,o.comp.ulid),this.componentService.reqUpdateComponentProps("gridLayout","w",t.nodes[0].w,o.comp.ulid),this.componentService.reqUpdateComponentProps("gridLayout","h",t.nodes[0].h,o.comp.ulid)}}gridStackItemClickH(t,o){t.stopPropagation();let n=this.pageService.getCurPage();n&&(this.curComponent?o.id!==this.curComponent.ulid&&this.componentService.setCurComponent(n.ulid,o.id):this.componentService.setCurComponent(n.ulid,o.id))}deleteComponentByUlidH(t){this._componentList=this._componentList.filter(o=>o.id!==t),this.deleteComp.emit(t)}identify(t,o){return t}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b),e.rXU(v.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-comp-stack"]],inputs:{componentList:"componentList"},outputs:{deleteComp:"deleteComp",change:"change"},decls:2,vars:3,consts:[[3,"changeCB","options"],[3,"options","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"click","options","ngClass"],["class","toolbox",4,"ngIf"],[3,"comp"],[1,"toolbox"],["bsSize","xs","icon","icon-delete",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"gridstack",0),e.bIt("changeCB",function(a){return n.changeCBH(a)}),e.DNE(1,tt,3,6,"gridstack-item",1),e.k0s()),2&o&&(e.Y8G("options",n.gridOptions),e.R7$(),e.Y8G("ngForOf",n._componentList)("ngForTrackBy",n.identify))},dependencies:[u.YU,u.Sq,u.bT,_.Qp,Y.AS,Y.To,Qe],styles:[".selected[_ngcontent-%COMP%]{border:1px solid blue}.toolbox[_ngcontent-%COMP%]{position:absolute;right:0;top:0;z-index:10;opacity:.5}.toolbox[_ngcontent-%COMP%]:hover{opacity:unset}"]})}return i})();var y=h(7152),A=h(6074),U=h(2099);let nt=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[u.MD,I.MWw,l.YN,Y.X2]})}return i})();e.wjB(Q,[u.bT,_.Qp,y.H$,b.Rl,N],[]),e.wjB(Z,[u.Sq,u.bT,A.up,A.T$,A.gR,y.H$,N],[]),e.wjB(ee,[u.Sq,u.bT,y.H$,U.OW,U.je,N],[]);const ot=["container"],it=["*"],st=(i,p,t,o,n)=>[i,p,t,o,n,"padding-left"],oe=(i,p)=>({content:i,disabled:p}),at=(i,p,t,o,n)=>[i,p,t,o,n,"padding-right"];function pt(i,p){}function rt(i,p){if(1&i&&(e.j41(0,"span",7,2),e.DNE(2,pt,0,0,"ng-template",8),e.nI1(3,"dInputGroupPipe"),e.k0s()),2&i){const t=e.sdS(1),o=e.XpG(),n=e.sdS(3),s=e.sdS(7);e.R7$(2),e.Y8G("ngTemplateOutlet",e.iJd(3,2,e.s1E(9,st,o.prefixContent,s,o.isEmbed,n,t)))("ngTemplateOutletContext",e.l_i(15,oe,o.prefixContent,o.disabled))}}function lt(i,p){}function ct(i,p){if(1&i&&(e.j41(0,"span",9,3),e.DNE(2,lt,0,0,"ng-template",8),e.nI1(3,"dInputGroupPipe"),e.k0s()),2&i){const t=e.sdS(1),o=e.XpG(),n=e.sdS(3),s=e.sdS(7);e.R7$(2),e.Y8G("ngTemplateOutlet",e.iJd(3,2,e.s1E(9,at,o.suffixContent,s,o.isEmbed,n,t)))("ngTemplateOutletContext",e.l_i(15,oe,o.suffixContent,o.disabled))}}function dt(i,p){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&i){const t=p.content;e.R7$(),e.JRh(t)}}let ut=(()=>{class i{constructor(t){this.render=t}transform(t,o,n,s,a,c){if(n){const d=s?.querySelector("input[dTextInput]");d&&setTimeout(()=>this.render.setStyle(d,c,`${a?.offsetWidth+4}px`))}return"string"==typeof t?o:t}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(e.sFG,16))};static#t=this.\u0275pipe=e.EJ8({name:"dInputGroupPipe",type:i,pure:!0})}return i})(),ht=(()=>{class i{get embed(){return this.isEmbed}constructor(t,o,n){this.cdr=t,this.el=o,this.render=n,this.isEmbed=!1,this.disabled=!1,this.spliceType="standalone",this.isPrefix=!1,this.isSuffix=!1,this.innerContentClass="",this.handlerSpliceStatus=()=>{const s=this.el.nativeElement.getBoundingClientRect(),a=this.checkIsInputGroup(this.el.nativeElement.previousElementSibling),c=this.checkIsInputGroup(this.el.nativeElement.nextElementSibling);this.spliceLeft(a,s),this.spliceRight(c,s),this.setInnerContentBorderRadius()}}ngAfterViewInit(){this.el.nativeElement.parentElement&&!this.isEmbed&&(this.parent=this.el.nativeElement.parentElement,this.handlerSpliceStatus(),this.resizeObserver=new window.ResizeObserver(()=>this.handlerSpliceStatus()),this.resizeObserver.observe(this.parent))}ngOnDestroy(){this.resizeObserver&&this.resizeObserver.unobserve(this.parent)}checkIsInputGroup(t){return"D-INPUT-GROUP"===t?.nodeName&&t}spliceLeft(t,o){if(t&&["left","both"].includes(this.spliceType)){const n=t.getBoundingClientRect();if(this.isPrefix=o.left>n.left,this.isPrefix)return void this.render.addClass(this.el.nativeElement,"devui-splice-left-item")}this.render.removeClass(this.el.nativeElement,"devui-splice-left-item")}spliceRight(t,o){if(t&&["right","both"].includes(this.spliceType)){const n=t.getBoundingClientRect();if(this.isSuffix=n.left>o.left,this.isSuffix)return void this.render.addClass(this.el.nativeElement,"devui-splice-right-item")}this.render.removeClass(this.el.nativeElement,"devui-splice-right-item")}setInnerContentBorderRadius(){const t=this.isPrefix||this.prefixContent,o=this.isSuffix||this.suffixContent;this.innerContentClass=t&&o?"both":(t?"prefix":o&&"suffix")||"",this.cdr.markForCheck()}changeInputPadding(t,o){if(this.isEmbed&&this.container){const n=this.container.nativeElement.querySelector("input[dTextInput]");if(!n)return;["right","both"].includes(t)&&this.render.setStyle(n,"padding-right",o),["left","both"].includes(t)&&this.render.setStyle(n,"padding-left",o)}}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["d-input-group"]],viewQuery:function(o,n){if(1&o&&e.GBs(ot,5),2&o){let s;e.mGM(s=e.lsd())&&(n.container=s.first)}},hostVars:2,hostBindings:function(o,n){2&o&&e.AVh("embed",n.embed)},inputs:{isEmbed:"isEmbed",disabled:"disabled",prefixContent:"prefixContent",suffixContent:"suffixContent",spliceType:"spliceType"},ngContentSelectors:it,decls:8,vars:7,consts:[["container",""],["defaultInputGroupTemplate",""],["prefix",""],["suffix",""],[1,"devui-input-group-container"],["class","devui-input-group-item prefix",4,"ngIf"],["class","devui-input-group-item suffix",4,"ngIf"],[1,"devui-input-group-item","prefix"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"devui-input-group-item","suffix"]],template:function(o,n){1&o&&(e.NAR(),e.j41(0,"div",4),e.DNE(1,rt,4,18,"span",5),e.j41(2,"span",null,0),e.SdG(4),e.k0s(),e.DNE(5,ct,4,18,"span",6),e.k0s(),e.DNE(6,dt,2,1,"ng-template",null,1,e.C5r)),2&o&&(e.AVh("disabled",n.isEmbed&&n.disabled),e.R7$(),e.Y8G("ngIf",n.prefixContent),e.R7$(),e.ZvI("devui-input-group-content ",n.innerContentClass,""),e.R7$(3),e.Y8G("ngIf",n.suffixContent))},dependencies:[u.bT,u.T3,ut],styles:["[_nghost-%COMP%]{display:inline-block;position:relative}[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]{display:flex;align-items:stretch}[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]   .devui-input-group-item[_ngcontent-%COMP%]{padding:4px 8px;width:fit-content;border:1px solid var(--devui-form-control-line, #d7d8da);border-radius:var(--devui-border-radius, 2px);background-color:var(--devui-gray-form-control-bg, #f5f5f5);white-space:nowrap;display:flex;align-items:center}[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]   .devui-input-group-item[_ngcontent-%COMP%]:has( + .devui-input-group-content[_ngcontent-%COMP%]:not(:empty)).prefix{border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]   .devui-input-group-content[_ngcontent-%COMP%]:not(:empty) + .devui-input-group-item.suffix[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}[_nghost-%COMP%]:not([class*=devui-splice-]){margin-right:8px}.devui-splice-left-item[_nghost-%COMP%]   .devui-input-group-item.prefix[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput], .devui-splice-left-item[_nghost-%COMP%]     d-select{margin-right:-1px}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput], .devui-splice-left-item[_nghost-%COMP%]     [dTextInput]>div.devui-dropdown-origin, .devui-splice-left-item[_nghost-%COMP%]     d-select, .devui-splice-left-item[_nghost-%COMP%]     d-select>div.devui-dropdown-origin{border-radius:0!important}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput]:first-child, .devui-splice-left-item[_nghost-%COMP%]     d-select:first-child{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput]:first-child>div.devui-dropdown-origin, .devui-splice-left-item[_nghost-%COMP%]     d-select:first-child>div.devui-dropdown-origin{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput]:last-child, .devui-splice-left-item[_nghost-%COMP%]     d-select:last-child{margin-right:0;border-top-right-radius:var(--devui-border-radius, 2px)!important;border-bottom-right-radius:var(--devui-border-radius, 2px)!important}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput]:last-child>div.devui-dropdown-origin, .devui-splice-left-item[_nghost-%COMP%]     d-select:last-child>div.devui-dropdown-origin{border-top-right-radius:var(--devui-border-radius, 2px)!important;border-bottom-right-radius:var(--devui-border-radius, 2px)!important}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput]{z-index:0}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput]:hover{z-index:1}.devui-splice-left-item[_nghost-%COMP%]     [dTextInput]:focus, .devui-splice-left-item[_nghost-%COMP%]     [dTextInput]:has(:focus){z-index:2}.devui-splice-right-item[_nghost-%COMP%]   .devui-input-group-item.suffix[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput], .devui-splice-right-item[_nghost-%COMP%]     d-select{margin-right:-1px}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput], .devui-splice-right-item[_nghost-%COMP%]     [dTextInput]>div.devui-dropdown-origin, .devui-splice-right-item[_nghost-%COMP%]     d-select, .devui-splice-right-item[_nghost-%COMP%]     d-select>div.devui-dropdown-origin{border-radius:0!important}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput]:first-child, .devui-splice-right-item[_nghost-%COMP%]     d-select:first-child{border-top-right-radius:var(--devui-border-radius, 2px)!important;border-bottom-right-radius:var(--devui-border-radius, 2px)!important}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput]:first-child>div.devui-dropdown-origin, .devui-splice-right-item[_nghost-%COMP%]     d-select:first-child>div.devui-dropdown-origin{border-top-right-radius:var(--devui-border-radius, 2px)!important;border-bottom-right-radius:var(--devui-border-radius, 2px)!important}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput]:last-child, .devui-splice-right-item[_nghost-%COMP%]     d-select:last-child{margin-right:0;border-top-left-radius:0!important;border-bottom-left-radius:0!important}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput]:last-child>div.devui-dropdown-origin, .devui-splice-right-item[_nghost-%COMP%]     d-select:last-child>div.devui-dropdown-origin{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput]{z-index:0}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput]:hover{z-index:1}.devui-splice-right-item[_nghost-%COMP%]     [dTextInput]:focus, .devui-splice-right-item[_nghost-%COMP%]     [dTextInput]:has(:focus){z-index:2}[_nghost-%COMP%]     span.devui-input-group-content{display:flex;align-items:stretch;justify-content:flex-start;flex-wrap:nowrap}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput], [_nghost-%COMP%]     span.devui-input-group-content.both d-select{margin-right:-1px}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput], [_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.both d-select, [_nghost-%COMP%]     span.devui-input-group-content.both d-select>div.devui-dropdown-origin{border-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]:first-child, [_nghost-%COMP%]     span.devui-input-group-content.both d-select:first-child{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]:first-child>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.both d-select:first-child>div.devui-dropdown-origin{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]:last-child, [_nghost-%COMP%]     span.devui-input-group-content.both d-select:last-child{margin-right:0;border-top-right-radius:0!important;border-bottom-right-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]:last-child>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.both d-select:last-child>div.devui-dropdown-origin{border-top-right-radius:0!important;border-bottom-right-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]{z-index:0}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]:hover{z-index:1}[_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]:focus, [_nghost-%COMP%]     span.devui-input-group-content.both [dTextInput]:has(:focus){z-index:2}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput], [_nghost-%COMP%]     span.devui-input-group-content.prefix d-select{margin-right:-1px}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput], [_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.prefix d-select, [_nghost-%COMP%]     span.devui-input-group-content.prefix d-select>div.devui-dropdown-origin{border-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]:first-child, [_nghost-%COMP%]     span.devui-input-group-content.prefix d-select:first-child{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]:first-child>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.prefix d-select:first-child>div.devui-dropdown-origin{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]:last-child, [_nghost-%COMP%]     span.devui-input-group-content.prefix d-select:last-child{margin-right:0;border-top-right-radius:var(--devui-border-radius, 2px)!important;border-bottom-right-radius:var(--devui-border-radius, 2px)!important}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]:last-child>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.prefix d-select:last-child>div.devui-dropdown-origin{border-top-right-radius:var(--devui-border-radius, 2px)!important;border-bottom-right-radius:var(--devui-border-radius, 2px)!important}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]{z-index:0}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]:hover{z-index:1}[_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]:focus, [_nghost-%COMP%]     span.devui-input-group-content.prefix [dTextInput]:has(:focus){z-index:2}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput], [_nghost-%COMP%]     span.devui-input-group-content.suffix d-select{margin-right:-1px}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput], [_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.suffix d-select, [_nghost-%COMP%]     span.devui-input-group-content.suffix d-select>div.devui-dropdown-origin{border-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]:first-child, [_nghost-%COMP%]     span.devui-input-group-content.suffix d-select:first-child{border-top-right-radius:0!important;border-bottom-right-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]:first-child>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.suffix d-select:first-child>div.devui-dropdown-origin{border-top-right-radius:0!important;border-bottom-right-radius:0!important}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]:last-child, [_nghost-%COMP%]     span.devui-input-group-content.suffix d-select:last-child{margin-right:0;border-top-left-radius:var(--devui-border-radius, 2px)!important;border-bottom-left-radius:var(--devui-border-radius, 2px)!important}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]:last-child>div.devui-dropdown-origin, [_nghost-%COMP%]     span.devui-input-group-content.suffix d-select:last-child>div.devui-dropdown-origin{border-top-left-radius:var(--devui-border-radius, 2px)!important;border-bottom-left-radius:var(--devui-border-radius, 2px)!important}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]{z-index:0}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]:hover{z-index:1}[_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]:focus, [_nghost-%COMP%]     span.devui-input-group-content.suffix [dTextInput]:has(:focus){z-index:2}.embed[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]   .devui-input-group-item[_ngcontent-%COMP%]{height:100%;position:absolute;border:none;background:transparent}.embed[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]   .devui-input-group-item.prefix[_ngcontent-%COMP%]{left:0}.embed[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]   .devui-input-group-item.suffix[_ngcontent-%COMP%]{right:0}.embed[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]     span.devui-input-group-content [dTextInput], .embed[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]     span.devui-input-group-content d-select>div{border-top-left-radius:var(--devui-border-radius, 2px)!important;border-bottom-left-radius:var(--devui-border-radius, 2px)!important}.embed[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]     span.devui-input-group-content [dTextInput], .embed[_nghost-%COMP%]   .devui-input-group-container[_ngcontent-%COMP%]     span.devui-input-group-content d-select>div{border-top-right-radius:var(--devui-border-radius, 2px)!important;border-bottom-right-radius:var(--devui-border-radius, 2px)!important}.embed[_nghost-%COMP%]:not(.disabled)    :hover input[dTextInput]{border-color:var(--devui-form-control-line-hover, #9b9fa8);box-shadow:0 0 0 4px var(--devui-form-control-interactive-outline, rgba(94, 124, 224, .08))}.embed[_nghost-%COMP%]:not(.disabled)    :has(:focus) input[dTextInput]{border-color:var(--devui-form-control-line-active, #5e7ce0)}"],changeDetection:0})}return i})(),mt=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[u.MD]})}return i})(),gt=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[u.MD,I.MWw,l.YN,mt]})}return i})();var ie=h(245),K=h(7291);console;const se={Input:[],Button:[],Modal:[],Form:[{label:"\u79cd\u7c7b",category:"select",options:[{label:"input",value:"input"},{label:"select",value:"select"},{label:"switch",value:"switch"}],key:"category",value:"input"},{label:"key",category:"input",key:"key",value:""},{label:"label",category:"input",key:"label",value:""},{label:"value",category:"input",key:"value",value:""},{label:"",category:"options",key:"options",value:[],template:{label:"",value:""},hide:function(i){let p=i.find(o=>"category"===o.key),t=!1;return t=!p||"select"!==p.value,t},hideListenerKey:"category"},{label:"\u5fc5\u586b",category:"switch",options:[{label:"false",value:!1},{label:"true",value:!0}],key:"required",value:!1},{label:"\u663e\u793a\u5e2e\u52a9",category:"switch",options:[{label:"false",value:!1},{label:"true",value:!0}],key:"hasHelp",value:!1},{label:"\u5e2e\u52a9\u6587\u672c",category:"input",key:"helpTips",value:"",hide:function(i){return!i.find(t=>"hasHelp"===t.key).value},hideListenerKey:"hasHelp"},{label:"\u9644\u52a0\u4fe1\u606f",category:"input",key:"extraInfo",value:""}],Table:[{label:"\u7c7b\u578b",category:"select",options:[{label:"fill",value:"fill"},{label:"slots",value:"slots"}],key:"category",value:"fill"},{label:"field",category:"input",key:"field",value:""},{label:"header",category:"input",key:"header",value:""},{label:"\u6700\u5927\u5bbd\u5ea6",category:"input",key:"maxWidth",value:""},{label:"\u5bbd\u5ea6",category:"input",key:"width",value:"150px"},{label:"\u6700\u5c0f\u5bbd\u5ea6",category:"input",key:"minWidth",value:""},{label:"\u662f\u5426\u53ef\u8fc7\u6ee4",category:"switch",options:[{label:"false",value:!1},{label:"true",value:!0}],key:"filterable",value:!1},{label:"\u8fc7\u6ee4\u65f6\u662f\u5426\u591a\u9009",category:"switch",options:[{label:"false",value:!1},{label:"true",value:!0}],key:"filterMultiple",value:!1,hide:function(i){return!i.find(t=>"filterable"===t.key).value},hideListenerKey:"filterable"},{label:"\u8868\u683c\u6216\u8005body\u6eda\u52a8\u65f6\u662f\u5426\u5173\u95ed\u8fc7\u6ee4\u6846",category:"switch",options:[{label:"false",value:!1},{label:"true",value:!0}],key:"closeFilterWhenScroll",value:!1},{label:"\u662f\u5426\u53ef\u6392\u5e8f",category:"switch",options:[{label:"false",value:!1},{label:"true",value:!0}],key:"sortable",value:!1},{label:"\u8be5\u5217\u56fa\u5b9a\u5230\u5de6\u4fa7\u7684\u8ddd\u79bb",category:"input",key:"fixedLeft",value:""},{label:"\u8be5\u5217\u56fa\u5b9a\u5230\u53f3\u4fa7\u7684\u8ddd\u79bb",category:"input",key:"fixedRight",value:""},{label:"childUlid",category:"input",key:"childUlid",value:"",hideConfig:!0}],Select:[],Tabs:[{label:"id",category:"input",key:"id",value:""},{label:"\u6807\u9898",category:"input",key:"title",value:""},{label:"\u662f\u5426\u7981\u7528",category:"switch",options:[{label:"false",value:!1},{label:"true",value:!0}],key:"disabled",value:!1}]},bt={Button:{behavior:!0,items:!1},Form:{behavior:!0,items:!0},Table:{behavior:!0,items:!0},Input:{behavior:!0,items:!1},Select:{behavior:!0,items:!1},Modal:{behavior:!0,items:!1},Icon:{behavior:!1,items:!1},Checkbox:{behavior:!0,items:!1},Tabs:{behavior:!0,items:!0},Pagination:{behavior:!0,items:!1}};let yt=(()=>{class i{constructor(){this.label="label",this.value="",this.changeValue=new e.bkB,this._label="",this._value=""}ngOnInit(){this._label=this.label,this._value=this.value}changeH(){this.changeValue.emit(this._value)}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-input"]],inputs:{label:"label",value:"value"},outputs:{changeValue:"changeValue"},decls:4,vars:2,consts:[[1,"input_box"],["dTextInput","",3,"ngModelChange","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"input",1),e.mxI("ngModelChange",function(a){return e.DH7(n._value,a)||(n._value=a),a}),e.bIt("ngModelChange",function(){return n.changeH()}),e.k0s()()),2&o&&(e.R7$(2),e.JRh(n._label),e.R7$(),e.R50("ngModel",n._value))},dependencies:[C.l,l.me,l.BC,l.vS],styles:[".input_box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px;align-items:center}.input_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:60px;flex-shrink:0;flex-grow:1}"]})}return i})(),xt=(()=>{class i{constructor(){this.label="",this.value="",this.options=[],this.changeValue=new e.bkB,this._value="",this._label=""}ngOnInit(){this._value=this.value,this._label=this.label}changeH(){this.changeValue.emit(this.value)}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-select"]],inputs:{label:"label",value:"value",options:"options"},outputs:{changeValue:"changeValue"},decls:4,vars:5,consts:[[1,"select_box"],[1,"select",3,"ngModelChange","options","filterKey","valueKey","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"d-select",1),e.mxI("ngModelChange",function(a){return e.DH7(n.value,a)||(n.value=a),a}),e.bIt("ngModelChange",function(){return n.changeH()}),e.k0s()()),2&o&&(e.R7$(2),e.JRh(n._label),e.R7$(),e.Y8G("options",n.options)("filterKey","label")("valueKey","value"),e.R50("ngModel",n.value))},dependencies:[O.wB,l.BC,l.vS],styles:[".select_box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px}.select_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:60px;flex-shrink:0;flex-grow:1}.select_box[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{flex-basis:90%;flex-shrink:1;flex-grow:0}"]})}return i})(),It=(()=>{class i{constructor(){this.label="",this.value=!1,this.changeValue=new e.bkB,this._label="",this._value=!1}ngOnInit(){this._label=this.label,this._value=this.value}changeH(){this.changeValue.emit(this._value)}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-switch"]],inputs:{label:"label",value:"value"},outputs:{changeValue:"changeValue"},decls:5,vars:2,consts:[[1,"switch_box"],[1,"toggle_box"],[1,"toggle",3,"ngModelChange","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"div",1)(4,"d-toggle",2),e.mxI("ngModelChange",function(a){return e.DH7(n._value,a)||(n._value=a),a}),e.bIt("ngModelChange",function(){return n.changeH()}),e.k0s()()()),2&o&&(e.R7$(2),e.JRh(n._label),e.R7$(2),e.R50("ngModel",n._value))},dependencies:[z.a,l.BC,l.vS],styles:[".switch_box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px}.switch_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:60px;flex-shrink:0;flex-grow:1}.switch_box[_ngcontent-%COMP%]   .toggle_box[_ngcontent-%COMP%]{flex-basis:90%;flex-shrink:1;flex-grow:0}"]})}return i})();var M=h(8531);function kt(i,p){if(1&i){const t=e.RV6();e.j41(0,"d-row")(1,"d-col",2)(2,"d-form-item")(3,"d-form-control")(4,"input",3),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.DH7(s.label,n)||(s.label=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.labelChangeH(n,s))}),e.k0s()()()(),e.j41(5,"d-col",2)(6,"d-form-item")(7,"d-form-control")(8,"input",4),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.DH7(s.value,n)||(s.value=n),e.Njj(n)}),e.bIt("ngModelChange",function(){const n=e.eBV(t).index,s=e.XpG();return e.Njj(s.valueChangeH(n))}),e.k0s()()()(),e.j41(9,"d-col",2)(10,"d-icon-group"),e.nrm(11,"d-icon",5)(12,"d-icon",5),e.k0s()()()}if(2&i){const t=p.$implicit;e.R7$(),e.Y8G("dSpan",10),e.R7$(3),e.R50("ngModel",t.label),e.R7$(),e.Y8G("dSpan",10),e.R7$(3),e.R50("ngModel",t.value),e.R7$(),e.Y8G("dSpan",4),e.R7$(2),e.Y8G("icon","icon-add")("operable",!0)("disabled",!0),e.R7$(),e.Y8G("icon","icon-minus")("operable",!0)("disabled",!0)}}let Pt=(()=>{class i{constructor(){this.optionsList=[],this.changeOptions=new e.bkB,this._optionsList=[]}ngOnInit(){this._optionsList=this.optionsList}labelChangeH(t,o){this.changeOptions.emit(this._optionsList)}valueChangeH(t){this.changeOptions.emit(this._optionsList)}opLv(){}addH(){let t=JSON.parse(JSON.stringify(this.optionsTemp));this._optionsList.push(t)}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-options"]],inputs:{optionsList:"optionsList",optionsTemp:"optionsTemp"},outputs:{changeOptions:"changeOptions"},decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],["bsStyle","common","circled","true",3,"click"],[3,"dSpan"],["dTextInput","","placeholder","label",3,"ngModelChange","ngModel"],["dTextInput","","placeholder","value",3,"ngModelChange","ngModel"],[3,"icon","operable","disabled"]],template:function(o,n){1&o&&(e.DNE(0,kt,13,11,"d-row",0),e.j41(1,"d-button",1),e.bIt("click",function(){return n.addH()}),e.EFF(2,"\u589e\u52a0\u4e00\u4e2a\u9009\u9879"),e.k0s()),2&o&&e.Y8G("ngForOf",n.optionsList)},dependencies:[u.Sq,_.Qp,m.N5,m.f,M.Re,M.Mj,M.mf,b.Rl,b.yd,C.l,l.me,l.BC,l.vS]})}return i})();function Mt(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-input",3),e.bIt("changeValue",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.inputChangeH(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("label",t.groupItem.label)("value",t.groupItem.value)}}function Tt(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-select",4),e.bIt("changeValue",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.selectChangeH(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("label",t.groupItem.label)("value",t.groupItem.value)("options",t.groupItem.options)}}function St(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-switch",3),e.bIt("changeValue",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.switchChangeH(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("label",t.groupItem.label)("value",t.groupItem.value)}}function Ot(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-options",5),e.bIt("changeOptions",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.optionsChangeH(n))}),e.k0s()}if(2&i){const t=e.XpG();e.Y8G("optionsList",t.groupItem.value)("optionsTemp",t.groupItem.template)}}console;let wt=(()=>{class i{constructor(){this.inputChange=new e.bkB,this.selectChange=new e.bkB,this.switchChange=new e.bkB,this.optionsChange=new e.bkB,this.hideOptions=!1}ngOnInit(){this._hideListener()}_hideListener(){let t=this.groupItem.hide;t&&t(this.group)}hideListener(t){this.groupItem.hideListenerKey===t&&this._hideListener()}inputChangeH(t){this.inputChange.emit({key:this.groupItem.key,value:t})}selectChangeH(t){this.selectChange.emit({key:this.groupItem.key,value:t})}switchChangeH(t){this.switchChange.emit({key:this.groupItem.key,value:t})}optionsChangeH(t){this.optionsChange.emit({key:this.groupItem.key,value:t})}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-item"]],inputs:{groupItem:"groupItem",group:"group"},outputs:{inputChange:"inputChange",selectChange:"selectChange",switchChange:"switchChange",optionsChange:"optionsChange"},decls:4,vars:4,consts:[[3,"label","value","changeValue",4,"ngIf"],[3,"label","value","options","changeValue",4,"ngIf"],[3,"optionsList","optionsTemp","changeOptions",4,"ngIf"],[3,"changeValue","label","value"],[3,"changeValue","label","value","options"],[3,"changeOptions","optionsList","optionsTemp"]],template:function(o,n){1&o&&e.DNE(0,Mt,1,2,"app-input",0)(1,Tt,1,3,"app-select",1)(2,St,1,2,"app-switch",0)(3,Ot,1,2,"app-options",2),2&o&&(e.Y8G("ngIf","input"===n.groupItem.category),e.R7$(),e.Y8G("ngIf","select"===n.groupItem.category),e.R7$(),e.Y8G("ngIf","switch"===n.groupItem.category),e.R7$(),e.Y8G("ngIf","options"===n.groupItem.category))},dependencies:[u.bT,yt,xt,It,Pt]})}return i})();function Gt(i,p){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"app-item",8),e.bIt("inputChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.inputChangeH(n,s))})("selectChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.selectChangeH(n,s))})("switchChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.switchChangeH(n,s))})("optionsChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.optionsChangeH(n,s))}),e.k0s()()}if(2&i){const t=e.XpG(2).$implicit,o=e.XpG();e.R7$(),e.Y8G("groupItem",t)("group",o.itemList)}}function jt(i,p){if(1&i&&e.DNE(0,Gt,2,2,"div",7),2&i){const t=e.XpG().$implicit;e.Y8G("ngIf",!t.hideCalc)}}function Bt(i,p){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"app-item",8),e.bIt("inputChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.inputChangeH(n,s))})("selectChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.selectChangeH(n,s))})("switchChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.switchChangeH(n,s))})("optionsChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.optionsChangeH(n,s))}),e.k0s()()}if(2&i){const t=e.XpG(2).$implicit,o=e.XpG();e.R7$(),e.Y8G("groupItem",t)("group",o.itemList)}}function Rt(i,p){if(1&i&&e.DNE(0,Bt,2,2,"div",7),2&i){const t=e.XpG().$implicit;e.Y8G("ngIf",!t.hideCalc)}}function Lt(i,p){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"app-item",8),e.bIt("inputChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.inputChangeH(n,s))})("selectChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.selectChangeH(n,s))})("switchChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.switchChangeH(n,s))})("optionsChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.optionsChangeH(n,s))}),e.k0s()()}if(2&i){const t=e.XpG(2).$implicit,o=e.XpG();e.R7$(),e.Y8G("groupItem",t)("group",o.itemList)}}function Ft(i,p){if(1&i&&e.DNE(0,Lt,2,2,"div",7),2&i){const t=e.XpG().$implicit;e.Y8G("ngIf",!t.hideCalc)}}function Et(i,p){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"app-item",8),e.bIt("inputChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.inputChangeH(n,s))})("selectChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.selectChangeH(n,s))})("switchChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.switchChangeH(n,s))})("optionsChange",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.optionsChangeH(n,s))}),e.k0s()()}if(2&i){const t=e.XpG(2).$implicit,o=e.XpG();e.R7$(),e.Y8G("groupItem",t)("group",o.itemList)}}function Ht(i,p){if(1&i&&e.DNE(0,Et,2,2,"div",7),2&i){const t=e.XpG().$implicit;e.Y8G("ngIf",!t.hideCalc)}}function Dt(i,p){1&i&&e.EFF(0," ngSwitchDefault ")}function Vt(i,p){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"div",2)(2,"d-button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteButtonClickH())}),e.k0s()(),e.j41(3,"div",4),e.DNE(4,jt,1,1,"ng-template",5)(5,Rt,1,1,"ng-template",5)(6,Ft,1,1,"ng-template",5)(7,Ht,1,1,"ng-template",5)(8,Dt,1,0,"ng-template",6),e.k0s()()}if(2&i){const t=p.$implicit;e.R7$(3),e.Y8G("ngSwitch",t.category),e.R7$(),e.Y8G("ngSwitchCase","input"),e.R7$(),e.Y8G("ngSwitchCase","select"),e.R7$(),e.Y8G("ngSwitchCase","switch"),e.R7$(),e.Y8G("ngSwitchCase","options")}}console;let Xt=(()=>{class i{constructor(t){this.componentService=t,this.group=[],this.index=-1,this.remove=new e.bkB,this.reqChangeItems=(0,r.uP)(this.componentService.reqChangeItems,400,this.componentService),this.itemList=[],this.eventMap=new Map,this.inputChangeH=(0,r.uP)((o,n)=>{this.componentService.setItemsOfCurComponent(this.index,o.key,o.value),this.reqChangeItems(this.index,o.key,o.value),this.itemList[n].value=o.value,this.listenerChange(o.key,this.itemList)},400),this.selectChangeH=(0,r.uP)((o,n)=>{this.componentService.setItemsOfCurComponent(this.index,o.key,o.value),this.reqChangeItems(this.index,o.key,o.value),this.itemList[n].value=o.value,this.listenerChange(o.key,this.itemList)},400),this.switchChangeH=(0,r.uP)((o,n)=>{this.componentService.setItemsOfCurComponent(this.index,o.key,o.value),this.reqChangeItems(this.index,o.key,o.value),this.itemList[n].value=o.value,this.listenerChange(o.key,this.itemList)},400),this.optionsChangeH=(0,r.uP)(o=>{this.componentService.setItemsOfCurComponent(this.index,o.key,o.value),this.reqChangeItems(this.index,o.key,o.value)},400)}ngOnInit(){this.initCalc()}ngOnDestroy(){}initCalc(){this.itemList=this.group.map(t=>{let o=t.hide;return o?{...t,hideCalc:o(this.group)}:{...t,hideCalc:!1}}),this.itemList.forEach(t=>{t.hideListenerKey&&this.eventMap.set(`compId${t.hideListenerKey}`,{f:o=>{let n=t.hide;return!n||n(o)},targetKey:t.key})})}listenerChange(t,o){let n=this.eventMap.get(`compId${t}`);if(n){let s=this.itemList.find(a=>a.key===n.targetKey);s&&(s.hideCalc=n.f(o))}}deleteButtonClickH(){this.remove.emit()}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-items-group"]],inputs:{group:"group",index:"index"},outputs:{remove:"remove"},decls:2,vars:1,consts:[[1,"group-box"],[4,"ngFor","ngForOf"],[1,"toolbox"],["bsSize","xs","icon","icon-delete",3,"click"],[3,"ngSwitch"],[3,"ngSwitchCase"],[3,"ngSwitchDefault"],[4,"ngIf"],[1,"app_item",3,"inputChange","selectChange","switchChange","optionsChange","groupItem","group"]],template:function(o,n){1&o&&(e.j41(0,"div",0),e.DNE(1,Vt,9,5,"div",1),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngForOf",n.itemList))},dependencies:[u.Sq,u.bT,u.ux,u.e1,u.fG,_.Qp,wt],styles:[".group-box[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;padding:4px;margin:8px 0}.group-box[_ngcontent-%COMP%]:hover{background:#edeffe}.group-box[_ngcontent-%COMP%]:hover   .toolbox[_ngcontent-%COMP%]{display:block}.group-box[_ngcontent-%COMP%]   .toolbox[_ngcontent-%COMP%]{display:none;position:absolute;right:8px;top:-24px}.app_item[_ngcontent-%COMP%]{margin:8px 0;display:block}"]})}return i})();function Nt(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-items-group",2),e.bIt("remove",function(){const n=e.eBV(t).index,s=e.XpG();return e.Njj(s.removeH(n))}),e.k0s()}if(2&i){const o=p.index;e.Y8G("group",p.$implicit)("index",o)}}function Ut(i,p){if(1&i){const t=e.RV6();e.j41(0,"d-button",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addH())}),e.EFF(1,"\u589e\u52a0\u4e00\u9879"),e.k0s()}}console;let Yt=(()=>{class i{constructor(t,o){this.pageService=t,this.componentService=o,this.addable=!1,this.groupList=[],this.curComponent=null,this.groupList=[],this.componentService.curComponent$.subscribe(n=>{n?(this.curComponent=n,this.groupList=[],n.items.forEach(s=>{let a=this.groupForConfig(n.type);Object.entries(s).forEach(([c,d])=>{let T=a.find(S=>S.key===c);T&&(T.value=d)}),this.groupList.push(a)}),this.addable=bt[n.type].items):(this.curComponent=null,this.groupList=[])})}addH(){if(this.curComponent){let t=this.groupForConfig(this.curComponent.type);this.groupList.push(t);let o={};se[this.curComponent.type].forEach(n=>{o[n.key]=n.value}),this.componentService.addItemsOfCurComponent(o),this.componentService.reqAddItems(o),r.AX.emit(k.vo.TABSADDITEM+this.curComponent.ulid,{index:this.groupList.length-1})}}removeH(t){this.groupList.splice(t,1),this.componentService.removeItemsOfCurComponent(this.pageService.getCurPage().ulid,this.componentService.curComponent().ulid,t),this.curComponent&&(this.componentService.reqRemoveItems(this.curComponent.ulid,t),r.AX.emit(k.vo.TABSREMOVEITEM+this.curComponent.ulid,{index:t}))}groupForConfig(t){return(0,r.mg)((0,r.kD)(se[t]).filter(n=>!n.hideConfig))}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(v.b),e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-items-box"]],decls:2,vars:2,consts:[[3,"group","index","remove",4,"ngFor","ngForOf"],["bsStyle","common","circled","true",3,"click",4,"ngIf"],[3,"remove","group","index"],["bsStyle","common","circled","true",3,"click"]],template:function(o,n){1&o&&e.DNE(0,Nt,1,2,"app-items-group",0)(1,Ut,2,0,"d-button",1),2&o&&(e.Y8G("ngForOf",n.groupList),e.R7$(),e.Y8G("ngIf",n.addable))},dependencies:[u.Sq,u.bT,_.Qp,Xt]})}return i})();var x=h(1005);function $t(i,p){if(1&i){const t=e.RV6();e.j41(0,"d-form-item")(1,"d-form-label"),e.EFF(2),e.k0s(),e.j41(3,"d-form-control")(4,"input",4),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.itemGroup.payload.value,n)||(s.itemGroup.payload.value=n),e.Njj(n)}),e.bIt("ngModelChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.payloadInputChangeH(n.itemGroup.payload.value))}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(2),e.JRh(t.itemGroup.payload.label),e.R7$(2),e.R50("ngModel",t.itemGroup.payload.value)}}console;let zt=(()=>{class i{constructor(t){this.componentService=t,this.eventMap=new Map,this.itemGroup={}}ngOnInit(){this.itemGroup={event:this.behavior.event,target:this.behavior.target,payload:this.behavior.payload},this.itemGroup.payload.hide&&(this.itemGroup.payload.hideCalc=this.itemGroup.payload.hide(this.behavior)),Array.from(Object.values(this.behavior)).forEach(t=>{t.hideListenerKey&&this.eventMap.set(t.hideListenerKey,{f:o=>{let n=t.hide;return!n||n(o)},targetKey:t.key})})}listenerChange(t,o){let n=this.eventMap.get(t);n&&(this.itemGroup[n.targetKey].hideCalc=n.f(o))}eventValueChange(t){this.componentService.setComponentsBehavior(this.index,"event",t),this.componentService.reqUpdateComponentBehavior("behavior",this.index,"event",t)}targetInputChangeH(t){this.componentService.setComponentsBehavior(this.index,"target",t),this.componentService.reqUpdateComponentBehavior("behavior",this.index,"target",t),this.itemGroup.target.value=t,this.listenerChange("target",this.itemGroup)}payloadInputChangeH(t){this.componentService.setComponentsBehavior(this.index,"payload",t),this.componentService.reqUpdateComponentBehavior("behavior",this.index,"payload",t)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-behavior-item"]],inputs:{behavior:"behavior",index:"index"},decls:12,vars:9,consts:[["dForm","","ngForm",""],["name","event",3,"ngModelChange","options","filterKey","valueKey","allowClear","ngModel"],["dTextInput","","name","target",3,"ngModelChange","ngModel"],[4,"ngIf"],["dTextInput","","name","payload",3,"ngModelChange","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"d-form-item")(2,"d-form-label"),e.EFF(3),e.k0s(),e.j41(4,"d-form-control")(5,"d-select",1),e.mxI("ngModelChange",function(a){return e.DH7(n.itemGroup.event.value,a)||(n.itemGroup.event.value=a),a}),e.bIt("ngModelChange",function(){return n.eventValueChange(n.itemGroup.event.value)}),e.k0s()()(),e.j41(6,"d-form-item")(7,"d-form-label"),e.EFF(8),e.k0s(),e.j41(9,"d-form-control")(10,"input",2),e.mxI("ngModelChange",function(a){return e.DH7(n.itemGroup.target.value,a)||(n.itemGroup.target.value=a),a}),e.bIt("ngModelChange",function(){return n.targetInputChangeH(n.itemGroup.target.value)}),e.k0s()()(),e.DNE(11,$t,5,2,"d-form-item",3),e.k0s()),2&o&&(e.R7$(3),e.JRh(n.itemGroup.event.label),e.R7$(2),e.Y8G("options",n.itemGroup.event.options)("filterKey","label")("valueKey","value")("allowClear",!!n.itemGroup.event.allowClear),e.R50("ngModel",n.itemGroup.event.value),e.R7$(3),e.JRh(n.itemGroup.target.label),e.R7$(2),e.R50("ngModel",n.itemGroup.target.value),e.R7$(),e.Y8G("ngIf",!n.itemGroup.payload.hideCalc))},dependencies:[u.bT,m.N5,m.Me,m.f,m.CW,O.wB,C.l,l.qT,l.me,l.BC,l.cb,l.vS,l.cV]})}return i})();function At(i,p){if(1&i&&e.nrm(0,"app-behavior-item",1),2&i){const o=p.index;e.Y8G("behavior",p.$implicit)("index",o)}}console;let Kt=(()=>{class i{constructor(t){this.componentService=t,this.componentBehaviorMeta={event:{category:"select",options:[],value:"",label:"\u4e8b\u4ef6",key:""},target:{category:"input",value:"",label:"",key:""},payload:{category:"textarea",value:"",label:"",key:""}},this.componentBehaviorList=[],this.componentService.curComponent$.subscribe(o=>{this.curComp=o,this.curComponentChange()})}curComponentChange(){switch(this.componentBehaviorList=[],this.curComp?.type){case"Button":this.curComp.behavior.forEach(t=>{let o=(0,r.mg)(x.$n);Object.entries(t).forEach(([n,s])=>{o[n].value=s}),this.componentBehaviorList.push(o)});break;case"Modal":this.curComp.behavior.forEach(t=>{let o=(0,r.mg)(x.aF);Object.entries(t).forEach(([n,s])=>{o[n].value=s}),this.componentBehaviorList.push(o)});break;case"Form":this.curComp.behavior.forEach(t=>{let o=(0,r.mg)(x.lV);Object.entries(t).forEach(([n,s])=>{o[n].value=s}),this.componentBehaviorList.push(o)});break;case"Table":this.curComp.behavior.forEach(t=>{let o=(0,r.mg)(x.XI);Object.entries(t).forEach(([n,s])=>{o[n].value=s}),this.componentBehaviorList.push(o)});break;case"Checkbox":this.curComp.behavior.forEach(t=>{let o=(0,r.mg)(x.Sc);Object.entries(t).forEach(([n,s])=>{o[n].value=s}),this.componentBehaviorList.push(o)});break;case"Tabs":this.curComp.behavior.forEach(t=>{let o=(0,r.mg)(x.tU);Object.entries(t).forEach(([n,s])=>{o[n].value=s}),this.componentBehaviorList.push(o)});break;case"Pagination":this.curComp.behavior.forEach(t=>{let o=(0,r.mg)(x.dK);Object.entries(t).forEach(([n,s])=>{o[n].value=s}),this.componentBehaviorList.push(o)})}}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-behavior-box"]],decls:1,vars:1,consts:[[3,"behavior","index",4,"ngFor","ngForOf"],[3,"behavior","index"]],template:function(o,n){1&o&&e.DNE(0,At,1,2,"app-behavior-item",0),2&o&&e.Y8G("ngForOf",n.componentBehaviorList)},dependencies:[u.Sq,zt]})}return i})(),q=(()=>{class i{constructor(t){this.viewContainerRef=t}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:i,selectors:[["","propsHost",""]]})}return i})();var f=h(6705);console;let qt=(()=>{class i{constructor(t){this.componentService=t,this.change=new e.bkB,this.value="",this.modelChangeH=(0,r.uP)(o=>{this.componentService.setComponentProp(this.data.key,this.data.value),this.componentService.props$.next({componentUlid:this.componentService.curComponent().ulid,key:this.data.key,value:this.data.value}),this.componentService.reqUpdateComponentProps("props",this.data.key,this.data.value),this.change.emit(o)},400)}ngOnInit(){this.value=this.data.value}ngOnChanges(...t){}ngModel(...t){console.log("ngModel",t)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-props-input"]],inputs:{data:"data"},outputs:{change:"change"},features:[e.OA$],decls:4,vars:3,consts:[[1,"input_box"],["dTextInput","","id","textInput",3,"ngModelChange","placeholder","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"input",1),e.mxI("ngModelChange",function(a){return e.DH7(n.data.value,a)||(n.data.value=a),a}),e.bIt("ngModelChange",function(a){return n.modelChangeH(a)}),e.k0s()()),2&o&&(e.R7$(2),e.JRh(n.data.label),e.R7$(),e.Y8G("placeholder",n.data.placeholder||"\u8bf7\u8f93\u5165"),e.R50("ngModel",n.data.value))},dependencies:[C.l,l.me,l.BC,l.vS],styles:[".input_box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px}.input_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:60px;flex-shrink:0;flex-grow:1}"]})}return i})(),Wt=(()=>{class i{constructor(t){this.componentService=t,this.change=new e.bkB,this.modelChangeH=(0,r.uP)(o=>{this.componentService.setComponentProp(this.data.key,this.data.value),this.componentService.reqUpdateComponentProps("props",this.data.key,this.data.value),this.change.emit(o)},400)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-props-select"]],inputs:{data:"data"},outputs:{change:"change"},decls:4,vars:6,consts:[[1,"select_box"],[1,"select",3,"ngModelChange","placeholder","options","ngModel","filterKey","valueKey"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"d-select",1),e.mxI("ngModelChange",function(a){return e.DH7(n.data.value,a)||(n.data.value=a),a}),e.bIt("ngModelChange",function(a){return n.modelChangeH(a)}),e.k0s()()),2&o&&(e.R7$(2),e.JRh(n.data.label),e.R7$(),e.Y8G("placeholder","")("options",n.data.options),e.R50("ngModel",n.data.value),e.Y8G("filterKey","label")("valueKey","value"))},dependencies:[O.wB,l.BC,l.vS],styles:[".select_box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px}.select_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:60px;flex-shrink:0;flex-grow:1}.select_box[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{flex-basis:90%;flex-shrink:1;flex-grow:0}"]})}return i})(),Jt=(()=>{class i{constructor(t){this.componentService=t,this.change=new e.bkB,this.modelChangeH=(0,r.uP)(o=>{this.componentService.setComponentProp(this.data.key,this.data.value),this.componentService.reqUpdateComponentProps("props",this.data.key,this.data.value),this.change.emit(o)},400)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-props-switch"]],inputs:{data:"data"},outputs:{change:"change"},decls:5,vars:2,consts:[[1,"switch_box"],[1,"toggle_box"],[1,"toggle",3,"ngModelChange","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"div",1)(4,"d-toggle",2),e.mxI("ngModelChange",function(a){return e.DH7(n.data.value,a)||(n.data.value=a),a}),e.bIt("ngModelChange",function(a){return n.modelChangeH(a)}),e.k0s()()()),2&o&&(e.R7$(2),e.JRh(n.data.label),e.R7$(2),e.R50("ngModel",n.data.value))},dependencies:[z.a,l.BC,l.vS],styles:[".switch_box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px}.switch_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:60px;flex-shrink:0;flex-grow:1}.switch_box[_ngcontent-%COMP%]   .toggle_box[_ngcontent-%COMP%]{flex-basis:90%;flex-shrink:1;flex-grow:0}"]})}return i})();function Qt(i,p){if(1&i){const t=e.RV6();e.j41(0,"d-row")(1,"d-col",3)(2,"d-form-item")(3,"d-form-control")(4,"input",4),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.DH7(s.label,n)||(s.label=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){const s=e.eBV(t).index,a=e.XpG();return e.Njj(a.labelChangeH(n,s))}),e.k0s()()()(),e.j41(5,"d-col",3)(6,"d-form-item")(7,"d-form-control")(8,"input",5),e.mxI("ngModelChange",function(n){const s=e.eBV(t).$implicit;return e.DH7(s.value,n)||(s.value=n),e.Njj(n)}),e.bIt("ngModelChange",function(){const n=e.eBV(t).index,s=e.XpG();return e.Njj(s.valueChangeH(n))}),e.k0s()()()(),e.j41(9,"d-col",3)(10,"d-icon-group"),e.nrm(11,"d-icon",6)(12,"d-icon",6),e.k0s()()()}if(2&i){const t=p.$implicit;e.R7$(),e.Y8G("dSpan",10),e.R7$(3),e.R50("ngModel",t.label),e.R7$(),e.Y8G("dSpan",10),e.R7$(3),e.R50("ngModel",t.value),e.R7$(),e.Y8G("dSpan",4),e.R7$(2),e.Y8G("icon","icon-add")("operable",!0)("disabled",!0),e.R7$(),e.Y8G("icon","icon-minus")("operable",!0)("disabled",!0)}}let Zt=(()=>{class i{constructor(t){this.componentService=t,this.change=new e.bkB,this.optionsList=[],this.optionsList=[],this.modelChangeH=(0,r.uP)(o=>{this.componentService.setComponentProp(this.data.key,this.data.value),this.componentService.reqUpdateComponentProps("props",this.data.key,this.data.value),this.change.emit(o)})}ngOnInit(){this.optionsList=(0,r.mg)(this.data.value)}labelChangeH(t,o){this.componentService.setComponentProp(this.data.key,this.optionsList),this.componentService.reqUpdateComponentProps("props",this.data.key,this.optionsList),this.change.emit(this.optionsList)}valueChangeH(t){this.componentService.setComponentProp(this.data.key,this.optionsList),this.componentService.reqUpdateComponentProps("props",this.data.key,this.optionsList),this.change.emit(this.optionsList)}addH(){let t=JSON.parse(JSON.stringify(this.data.template));this.optionsList.push(t),this.componentService.setComponentProp(this.data.key,this.optionsList),this.componentService.reqUpdateComponentProps("props",this.data.key,this.optionsList),this.change.emit(this.optionsList)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-props-option"]],inputs:{data:"data"},outputs:{change:"change"},decls:7,vars:2,consts:[[1,"option_box"],[4,"ngFor","ngForOf"],["bsStyle","common","circled","true",3,"click"],[3,"dSpan"],["dTextInput","","placeholder","label",3,"ngModelChange","ngModel"],["dTextInput","","placeholder","value",3,"ngModelChange","ngModel"],[3,"icon","operable","disabled"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"div"),e.DNE(4,Qt,13,11,"d-row",1),e.k0s()(),e.j41(5,"d-button",2),e.bIt("click",function(){return n.addH()}),e.EFF(6,"\u589e\u52a0\u4e00\u4e2a\u9009\u9879"),e.k0s()),2&o&&(e.R7$(2),e.JRh(n.data.label),e.R7$(2),e.Y8G("ngForOf",n.optionsList))},dependencies:[u.Sq,_.Qp,m.N5,m.f,M.Re,M.Mj,M.mf,b.Rl,b.yd,C.l,l.me,l.BC,l.vS],styles:[".option_box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:8px;align-items:center}.option_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:60px;flex-shrink:0;flex-grow:1}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justyle-content:center;align-items:center}.box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin:6px 4px}"]})}return i})();var en=h(595);let tn=console.log,nn=(()=>{class i{constructor(t){this.componentService=t,this.change=new e.bkB,this.value=0,this.ngModelChangeH=(0,r.uP)(o=>{tn("createDebounceFn",o),this.componentService.setComponentProp(this.data.key,this.data.value),this.componentService.props$.next({componentUlid:this.componentService.curComponent().ulid,key:this.data.key,value:this.data.value}),this.componentService.reqUpdateComponentProps("props",this.data.key,this.data.value),this.change.emit(o)},400)}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-props-number"]],inputs:{data:"data"},outputs:{change:"change"},decls:4,vars:2,consts:[[1,"number_box"],[3,"ngModelChange","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"d-input-number",1),e.mxI("ngModelChange",function(a){return e.DH7(n.data.value,a)||(n.data.value=a),a}),e.bIt("ngModelChange",function(a){return n.ngModelChangeH(a)}),e.k0s()()),2&o&&(e.R7$(2),e.JRh(n.data.label),e.R7$(),e.R50("ngModel",n.data.value))},dependencies:[en.n,l.BC,l.vS],styles:[".number_box[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px}.number_box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-basis:60px;flex-shrink:0;flex-grow:0}"]})}return i})();function on(i,p){}let sn=console.log,an=(()=>{class i{constructor(){this.itemChange=new e.bkB,this.propArr=[]}ngOnInit(){}init(){if(!this.propsHost)return;let o,t=this.propsHost.viewContainerRef;switch(t.clear(),this.propItem.category){case"input":default:o=t.createComponent(qt),o.instance.data=this.propItem,o.instance.change.subscribe(n=>{this.itemChange.emit({key:this.propItem.key,value:n})});break;case"select":o=t.createComponent(Wt),o.instance.data=this.propItem,o.instance.change.subscribe(n=>{this.itemChange.emit({key:this.propItem.key,value:n})});break;case"switch":o=t.createComponent(Jt),o.instance.data=this.propItem,o.instance.change.subscribe(n=>{this.itemChange.emit({key:this.propItem.key,value:n})});break;case"options":o=t.createComponent(Zt),o.instance.data=this.propItem,o.instance.change.subscribe(n=>{this.itemChange.emit({key:this.propItem.key,value:n})});break;case"number":o=t.createComponent(nn),o.instance.data=this.propItem,o.instance.change.subscribe(n=>{sn("subscribe",n),this.itemChange.emit({key:this.propItem.key,value:n})})}}ngAfterContentInit(){this.init()}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-props-item"]],viewQuery:function(o,n){if(1&o&&e.GBs(q,7),2&o){let s;e.mGM(s=e.lsd())&&(n.propsHost=s.first)}},inputs:{propItem:"propItem"},outputs:{itemChange:"itemChange"},decls:2,vars:0,consts:[["propsHost",""]],template:function(o,n){1&o&&(e.j41(0,"div"),e.DNE(1,on,0,0,"ng-template",0),e.k0s())},dependencies:[q]})}return i})();function pn(i,p){if(1&i&&(e.j41(0,"div",5)(1,"span"),e.EFF(2,"\u7ec4\u4ef6\u7c7b\u578b"),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&i){const t=e.XpG();e.R7$(4),e.JRh(null==t.curComp?null:t.curComp.type)}}function rn(i,p){if(1&i){const t=e.RV6();e.j41(0,"div",6),e.bIt("click",function(){e.eBV(t);const n=e.sdS(4),s=e.XpG();return e.Njj(s.compUlidClickH(n))}),e.j41(1,"span"),e.EFF(2,"\u7ec4\u4ef6\u6807\u8bc6"),e.k0s(),e.j41(3,"span",null,0),e.EFF(5),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(5),e.JRh(null==t.curComp?null:t.curComp.ulid)}}function ln(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-props-item",8),e.bIt("itemChange",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.itemChangeH(n))}),e.k0s()}if(2&i){const t=e.XpG().$implicit;e.Y8G("propItem",t)}}function cn(i,p){if(1&i&&(e.qex(0),e.DNE(1,ln,1,1,"app-props-item",7),e.bVm()),2&i){const t=p.$implicit;e.R7$(),e.Y8G("ngIf",!t.hideCalc)}}console;let dn=(()=>{class i{constructor(t){this.componentService=t,this.componentPropsMeta={key:{category:"select",options:[{label:"button",value:"button"},{label:"submit",value:"submit"},{label:"reset",value:"reset"}],value:"button",label:"\u7c7b\u578b",key:""}},this.curComp=null,this.componentPropsList=[],this.msg=[],this.componentService.curComponent$.subscribe(o=>{this.curComp=o,this.componentSelectedChange()}),this.propsMap=new Map}ngOnInit(){}componentSelectedChange(){switch(this.componentPropsList=[],this.curComp?.type){case"Button":Object.values(f.$n).forEach(t=>{t.value=this.curComp?.props[t.key],this.componentPropsList.push(t)});break;case"Input":Object.values(f.pd).forEach(t=>{t.value=this.curComp?.props[t.key],this.componentPropsList.push(t)});break;case"Select":Object.values(f.l6).forEach(t=>{t.value=this.curComp.props[t.key],this.componentPropsList.push(t)});break;case"Modal":Object.values(f.aF).forEach(t=>{t.value=this.curComp?.props[t.key],this.componentPropsList.push(t)});break;case"Form":Object.values(f.lV).forEach(t=>{t.value=this.curComp?.props[t.key],this.componentPropsList.push(t)});break;case"Table":Object.values(f.XI).forEach(t=>{t.value=this.curComp.props[t.key],this.componentPropsList.push(t)});break;case"Icon":Object.values(f.In).forEach(t=>{t.value=this.curComp.props[t.key],this.componentPropsList.push(t)});break;case"Checkbox":Object.values(f.Sc).forEach(t=>{t.value=this.curComp.props[t.key],this.componentPropsList.push(t)});break;case"Tabs":Object.values(f.tU).forEach(t=>{t.value=this.curComp.props[t.key],this.componentPropsList.push(t)});break;case"Pagination":Object.values(f.dK).forEach(t=>{t.value=this.curComp.props[t.key],this.componentPropsList.push(t)});break;default:this.componentPropsMeta={}}this.componentPropsList=this.componentPropsList.map(t=>{let o=t.hide;return o?{...t,hideCalc:o(this.componentPropsList)}:{...t,hideCalc:!1}}),this.componentPropsList.forEach(t=>{t.hideListenerKey&&this.propsMap.set(t.hideListenerKey,{f:o=>{let n=t.hide;return!n||n(o)},targetKey:t.key})})}compUlidClickH(t){(0,r.C)(t.innerText).then(()=>{this.msg=[{severity:"success",summary:"",content:"\u5df2\u7ecf\u590d\u5236"}]})}listenerChange(t,o){let n=this.propsMap.get(t);if(n){let s=this.componentPropsList.find(a=>a.key===n.targetKey);s&&(s.hideCalc=n.f(o))}}itemChangeH(t){this.componentPropsList.forEach(n=>{n.key===t.key&&(n.value=t.value)});let o={};this.componentPropsList.forEach(n=>{o[n.key]=n.value}),this.listenerChange(t.key,o)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(g.b))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-props-box"]],viewQuery:function(o,n){if(1&o&&e.GBs(q,7),2&o){let s;e.mGM(s=e.lsd())&&(n.propsDirective=s.first)}},decls:4,vars:4,consts:[["ref",""],["class","compType",4,"ngIf"],["class","compUlidBox",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"compType"],[1,"compUlidBox",3,"click"],["class","props_item",3,"propItem","itemChange",4,"ngIf"],[1,"props_item",3,"itemChange","propItem"]],template:function(o,n){1&o&&(e.DNE(0,pn,5,1,"div",1)(1,rn,6,1,"div",2)(2,cn,2,1,"ng-container",3),e.nrm(3,"d-toast",4)),2&o&&(e.Y8G("ngIf",null==n.curComp?null:n.curComp.ulid),e.R7$(),e.Y8G("ngIf",null==n.curComp?null:n.curComp.ulid),e.R7$(),e.Y8G("ngForOf",n.componentPropsList),e.R7$(),e.Y8G("value",n.msg))},dependencies:[u.Sq,u.bT,K.d3,an],styles:[".compType[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px}.compUlidBox[_ngcontent-%COMP%]{margin:8px 0;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;justify-content:flex-start;gap:8px}.props_item[_ngcontent-%COMP%]{margin:8px 0;display:block}"]})}return i})(),un=(()=>{class i{constructor(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-page-dialog"]],inputs:{data:"data"},decls:11,vars:2,consts:[["dForm",""],["dTextInput","","autocomplete","off","name","key","placeholder","\u521b\u5efa\u6210\u529f\u540e\u4e0d\u53ef\u4fee\u6539",3,"ngModelChange","ngModel"],["dTextInput","","autocomplete","off","name","name","placeholder","\u5e94\u7528\u540d\u79f0",3,"ngModelChange","ngModel"]],template:function(o,n){1&o&&(e.j41(0,"form",0)(1,"d-form-item")(2,"d-form-label"),e.EFF(3,"key"),e.k0s(),e.j41(4,"d-form-control")(5,"input",1),e.mxI("ngModelChange",function(a){return e.DH7(n.data.key,a)||(n.data.key=a),a}),e.k0s()()(),e.j41(6,"d-form-item")(7,"d-form-label"),e.EFF(8,"\u9875\u9762\u540d\u79f0"),e.k0s(),e.j41(9,"d-form-control")(10,"input",2),e.mxI("ngModelChange",function(a){return e.DH7(n.data.name,a)||(n.data.name=a),a}),e.k0s()()()()),2&o&&(e.R7$(5),e.R50("ngModel",n.data.key),e.R7$(5),e.R50("ngModel",n.data.name))},dependencies:[m.N5,m.Me,m.f,m.CW,C.l,l.qT,l.me,l.BC,l.cb,l.vS,l.cV]})}return i})();var hn=h(3132);const mn=i=>({selected:i});function gn(i,p){if(1&i){const t=e.RV6();e.j41(0,"span",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.okSpanClickH())}),e.EFF(1,"ok"),e.k0s()}}function _n(i,p){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"d-input-group",9)(2,"input",10),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.pageNameEdit,n)||(s.pageNameEdit=n),e.Njj(n)}),e.bIt("blur",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.editInputBlurH)}),e.k0s()(),e.DNE(3,gn,2,0,"ng-template",null,1,e.C5r),e.k0s()}if(2&i){const t=e.sdS(4),o=e.XpG(2);e.R7$(),e.Y8G("suffixContent",t),e.R7$(),e.R50("ngModel",o.pageNameEdit),e.Y8G("placeholder","\u9875\u9762\u540d\u79f0")}}function fn(i,p){if(1&i){const t=e.RV6();e.j41(0,"d-icon",15),e.bIt("click",function(n){e.eBV(t);const s=e.XpG(2).index,a=e.XpG();return e.Njj(a.iconEditClickH(n,s))}),e.k0s()}2&i&&e.Y8G("icon","icon-edit")}function Cn(i,p){if(1&i){const t=e.RV6();e.j41(0,"d-icon",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).index,s=e.XpG();return e.Njj(s.iconDeleteClickH(n))}),e.k0s()}2&i&&e.Y8G("icon","icon-delete")}function vn(i,p){if(1&i){const t=e.RV6();e.j41(0,"div",12),e.bIt("mouseenter",function(){e.eBV(t);const n=e.XpG().index,s=e.XpG();return e.Njj(s.mouseenterH(n))})("mouseleave",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.mouseleaveH())}),e.EFF(1),e.j41(2,"div",13),e.DNE(3,fn,1,1,"d-icon",14)(4,Cn,1,1,"d-icon",14),e.k0s()()}if(2&i){const t=e.XpG(),o=t.$implicit,n=t.index,s=e.XpG();e.R7$(),e.SpI(" ",o.name," "),e.R7$(2),e.Y8G("ngIf",s.hoveredIndex===n),e.R7$(),e.Y8G("ngIf",s.hoveredIndex===n)}}function bn(i,p){if(1&i){const t=e.RV6();e.j41(0,"div",7),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.pageItemClickH(n.ulid))}),e.DNE(1,_n,5,3,"div",8)(2,vn,5,3,"ng-template",null,0,e.C5r),e.k0s()}if(2&i){const t=p.$implicit,o=p.index,n=e.sdS(3),s=e.XpG();e.Y8G("ngClass",e.eq3(3,mn,t.ulid===(null==s.curPage?null:s.curPage.ulid))),e.R7$(),e.Y8G("ngIf",s.editIndex===o)("ngIfElse",n)}}let ae=console.log,yn=(()=>{class i{constructor(t,o,n,s,a){this.dialogService=t,this.appService=o,this.pageService=n,this.componentService=s,this.route=a,this.pageList=[],this.curPage=null,this.pageService.pageSubject$.subscribe(c=>{this.curPage=c}),this.msg=[],this.hoveredIndex=-1,this.editIndex=-1,this.pageNameEdit=""}ngOnInit(){this.init()}init(){let t=String(this.route.snapshot.queryParamMap.get("app"));this.appService.getAppList().then(o=>{let n=o.find(s=>s.ulid===t);return ae(n),n}).then(o=>{o&&this.pageService.getPageList(o.ulid).then(n=>{this.pageList=n})})}onDrop(t,o){let{dragFromIndex:n,dropIndex:s}=t;o.splice(s,0,...o.splice(n,1))}createPageButtonClickH(){let t=this.dialogService.open({id:"dialog-service",width:"346px",maxHeight:"600px",title:"\u521b\u5efa\u65b0\u9875\u9762",content:un,backdropCloseable:!0,onClose:()=>ae("close"),data:{key:"p0",name:"p0"},buttons:[{cssClass:"primary",text:"\u521b\u5efa",disabled:!1,handler:o=>{let n=this.appService.getCurApp(),s=t.modalContentInstance.data,a=(0,r.BA)(s.key,s.name,this.pageList.length?this.pageList[this.pageList.length-1].ulid:"","",n.ulid);this.pageList.push(a),this.pageService.add(n.ulid,a),this.pageService.reqPostPage(s,n.ulid,a.ulid),this.appService.addPage(a.ulid),t.modalInstance.hide()}},{id:"btn-cancel",cssClass:"common",text:"\u53d6\u6d88",handler:o=>{t.modalInstance.hide()}}]})}pageItemClickH(t){let o=this.appService.getCurApp();o&&this.pageService.setCurPage(o.ulid,t);let n=this.pageService.getCurPage();n&&this.componentService.setCurComponent(n.ulid)}reReqPageButtonClickH(){}mouseenterH(t){this.hoveredIndex=t}mouseleaveH(){this.hoveredIndex=-1}editInputBlurH(){this.editIndex=-1}okSpanClickH(){this.pageList[this.editIndex].name=this.pageNameEdit;let t=this.pageList[this.editIndex].ulid;this.pageService.update(t,"name",this.pageNameEdit),this.pageService.reqUpdate(t,"name",this.pageNameEdit),this.editIndex=-1}iconEditClickH(t,o){this.pageNameEdit=this.pageList[o].name,this.editIndex=o,t.stopPropagation()}iconDeleteClickH(t){let o=this.pageList[t];this.pageList.splice(t,1),this.pageService.deletePageByUlid(o.ulid),this.componentService.deleteComponentByPageUlid(o.ulid),this.pageService.reqDeletePage(o.ulid)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(hn.o3),e.rXU($.d),e.rXU(v.b),e.rXU(g.b),e.rXU(ie.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-page-list"]],decls:9,vars:2,consts:[["read",""],["ok",""],["dDroppable","",3,"dropEvent"],["dSortable",""],["dDraggable","","class","page_item",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click"],[3,"value"],["dDraggable","",1,"page_item",3,"click","ngClass"],[4,"ngIf","ngIfElse"],[3,"suffixContent"],["dTextInput","",1,"duration-value",3,"ngModelChange","blur","ngModel","placeholder"],[1,"edit_ok",3,"click"],[1,"read_box",3,"mouseenter","mouseleave"],[1,"icon-box"],["class","icon",3,"icon","click",4,"ngIf"],[1,"icon",3,"click","icon"]],template:function(o,n){1&o&&(e.j41(0,"div",2),e.bIt("dropEvent",function(a){return n.onDrop(a,n.pageList)}),e.j41(1,"div",3),e.DNE(2,bn,4,5,"div",4),e.j41(3,"div")(4,"d-button",5),e.bIt("click",function(){return n.createPageButtonClickH()}),e.EFF(5,"\u521b\u5efa\u65b0\u9875\u9762"),e.k0s(),e.j41(6,"d-button",5),e.bIt("click",function(){return n.reReqPageButtonClickH()}),e.EFF(7,"\u5237\u65b0\u9875\u9762\u5217\u8868"),e.k0s()()()(),e.nrm(8,"d-toast",6)),2&o&&(e.R7$(2),e.Y8G("ngForOf",n.pageList),e.R7$(6),e.Y8G("value",n.msg))},dependencies:[u.YU,u.Sq,u.bT,_.Qp,y.T5,y.H$,y.s4,b.Rl,K.d3,C.l,l.me,l.BC,l.vS,ht],styles:[".page_item[_ngcontent-%COMP%]{padding:4px;margin:4px 2px;display:flex;justify-content:space-between}.page_item[_ngcontent-%COMP%]:hover{background:#ebeff6}.page_item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer}.selected[_ngcontent-%COMP%]{background:#e7e7ef}.edit_ok[_ngcontent-%COMP%]{cursor:pointer}.read_box[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.read_box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 2px}"]})}return i})();const xn=["compStack"];function In(i,p){1&i&&(e.j41(0,"span"),e.EFF(1,"/"),e.k0s())}function kn(i,p){if(1&i){const t=e.RV6();e.j41(0,"app-comp-stack",17,0),e.bIt("deleteComp",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.deleteComponentByUlidH(n))}),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("componentList",t.componentList)}}function Pn(i,p){if(1&i&&(e.j41(0,"div"),e.DNE(1,kn,2,1,"app-comp-stack",16),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.show)}}function Mn(i,p){1&i&&(e.j41(0,"div")(1,"p",18),e.EFF(2,"\u6b64\u9875\u9762\u65e0\u7ec4\u4ef6"),e.k0s()())}let w=console.log,Tn={Button:G,Modal:j,Form:B,Table:R,Input:L,Select:F,Icon:E,Checkbox:H,Tabs:D,Pagination:V},Sn=(()=>{class i{constructor(t,o,n,s){this.appService=t,this.pageService=o,this.componentService=n,this.route=s,this.leftTabActive="page",this.rightTabActive="props",this.componentCategoryList=[],this.componentByPage=[],this.pageList=[],this.msg=[],this.pageData=[],this.componentList=[],this.pageService.pageSubject$.subscribe(a=>{this.curPage=a,this.curPage&&this.componentService.getComponentList(this.curPage).then(c=>{this.show=!1,this.componentByPage=[],this.componentList=c,c.forEach(d=>{this.componentByPage.push({x:d.gridLayout.x,y:d.gridLayout.y,w:d.gridLayout.w,h:d.gridLayout.h,id:d.ulid,comp:d,noResize:d.gridLayout.noResize})}),(0,r.$m)(()=>{this.show=!0})})}),this.gridOptions={margin:2,float:!0,column:24},this.componentService.curComponent$.subscribe(a=>{this.curComponent=a}),this.show=!0}viewBtClickH(){window.open(`${location.protocol}//${location.hostname}:4210/${this.appService.getCurApp()?.key}/dev/${this.pageService.getCurPage()?.key}`,"_blank")}activeTabChange(t){console.log(t)}ngOnInit(){this.opApp()}opApp(){let t=String(this.route.snapshot.queryParamMap.get("app"));this.appService.getAppList().then(o=>o?(this.appService.setCurApp(t),!0):Promise.reject("\u60a8\u65e0\u6b64\u5e94\u7528\u7684\u6743\u9650")).then(()=>(this.curApp=this.appService.getCurApp(),!!this.curApp||Promise.reject("\u8be5\u5e94\u7528\u4e0d\u5b58\u5728"))).then(()=>this.pageService.getPageList(this.curApp.ulid).then(o=>o[0]?(this.pageService.setCurPage(this.curApp.ulid,o[0].ulid),!0):Promise.reject("\u65e0\u9875\u9762"))).catch(o=>{w(o)})}onDrop(t,o){let n=this.pageService.getCurPage(),s=0;this.componentByPage.forEach(S=>{let pe=(S.y||0)+(S.h||0);pe>s&&(s=pe)});let a=t.dragData.item.componentCategory,c=Tn[a],d=(0,r.zG)(a,n.appUlid,n.ulid,this.componentByPage[this.componentByPage.length-1]?.comp.ulid||"","","",{area:""},{x:0,y:s,w:c.w,h:c.h,noResize:c.noResize}),T={...d.gridLayout,id:d.ulid,comp:d};this.componentByPage.push(T),this.componentList.push(d),this.componentService.mountComponent(n.ulid,d),this.componentService.reqCreateComponent(d).then(()=>{w("\u6210\u529f\u5728\u8fdc\u7aef\u4fdd\u5b58\u7ec4\u4ef6")}).catch(S=>{w("error",S)}),(0,r.$m)(()=>{this.compStack.init()})}stageClickH(t){let o=Array.from(t.target.classList);(o.includes("grid-stack")||o.includes("center"))&&this.curPage&&(w("stageClickH",this.curPage),this.componentService.setCurComponent(this.curPage.ulid,""))}deleteComponentByUlidH(t){this.componentByPage=this.componentByPage.filter(n=>n.id!==t),this.componentList=this.componentList.filter(n=>n.ulid!==t);let o=this.componentService.getChildrenComponent(this.curPage.ulid,t).map(n=>n.ulid);this.componentService.deleteByUlid(this.curPage.ulid,t),this.componentService.reqDeleteComponent(t,o)}identify(t,o){return o.id}changeCBH(t){let o=this.componentByPage.find(n=>n.id===t.nodes[0].id);o&&(o.x=t.nodes[0].x,o.y=t.nodes[0].y,o.w=t.nodes[0].w,o.h=t.nodes[0].h,this.componentService.setComponentProp("gridLayout",{x:t.nodes[0].x,y:t.nodes[0].y,w:t.nodes[0].w,h:t.nodes[0].h}),this.componentService.reqUpdateComponentProps("gridLayout","x",t.nodes[0].x,o.comp.ulid),this.componentService.reqUpdateComponentProps("gridLayout","y",t.nodes[0].y,o.comp.ulid),this.componentService.reqUpdateComponentProps("gridLayout","w",t.nodes[0].w,o.comp.ulid),this.componentService.reqUpdateComponentProps("gridLayout","h",t.nodes[0].h,o.comp.ulid))}resizeH(t){w("resizeH",t)}gridStackItemClickH(t,o){t.stopPropagation();let n=this.pageService.getCurPage();n&&(this.curComponent?o.id!==this.curComponent.ulid&&this.componentService.setCurComponent(n.ulid,o.id):this.componentService.setCurComponent(n.ulid,o.id))}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU($.d),e.rXU(v.b),e.rXU(g.b),e.rXU(ie.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-setup"]],viewQuery:function(o,n){if(1&o&&e.GBs(xn,5),2&o){let s;e.mGM(s=e.lsd())&&(n.compStack=s.first)}},standalone:!0,features:[e.aNF],decls:30,vars:10,consts:[["compStack",""],[1,"section"],[1,"header"],[4,"ngIf"],[3,"click"],[1,"left"],[3,"activeTabChange","type","activeTab"],["id","page","title","\u9875\u9762"],["id","component","title","\u7ec4\u4ef6"],["dDroppable","",1,"center",3,"dropEvent","click"],[1,"right"],["id","props","title","props"],["id","behavior","title","behavior"],["id","items","title","items"],[1,"item-box"],[3,"value"],[3,"componentList","deleteComp",4,"ngIf"],[3,"deleteComp","componentList"],[1,"text_center"]],template:function(o,n){1&o&&(e.j41(0,"section",1)(1,"header",2)(2,"p")(3,"span"),e.EFF(4),e.k0s(),e.DNE(5,In,2,0,"span",3),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.j41(8,"aside")(9,"d-button",4),e.bIt("click",function(){return n.viewBtClickH()}),e.EFF(10,"\u9884\u89c8"),e.k0s()()(),e.j41(11,"div",5)(12,"d-tabs",6),e.mxI("activeTabChange",function(a){return e.DH7(n.leftTabActive,a)||(n.leftTabActive=a),a}),e.bIt("activeTabChange",function(a){return n.activeTabChange(a)}),e.j41(13,"d-tab",7),e.nrm(14,"app-page-list"),e.k0s(),e.j41(15,"d-tab",8),e.EFF(16," app-component-list "),e.k0s()()(),e.j41(17,"div",9),e.bIt("dropEvent",function(a){return n.onDrop(a,n.pageData)})("click",function(a){return n.stageClickH(a)}),e.DNE(18,Pn,2,1,"div",3)(19,Mn,3,0,"div",3),e.k0s(),e.j41(20,"div",10)(21,"d-tabs",6),e.mxI("activeTabChange",function(a){return e.DH7(n.rightTabActive,a)||(n.rightTabActive=a),a}),e.bIt("activeTabChange",function(a){return n.activeTabChange(a)}),e.j41(22,"d-tab",11),e.nrm(23,"app-props-box"),e.k0s(),e.j41(24,"d-tab",12),e.nrm(25,"app-behavior-box"),e.k0s(),e.j41(26,"d-tab",13)(27,"div",14),e.nrm(28,"app-items-box"),e.k0s()()()()(),e.nrm(29,"d-toast",15)),2&o&&(e.R7$(4),e.JRh(null==n.curApp?null:n.curApp.key),e.R7$(),e.Y8G("ngIf",null==n.curPage?null:n.curPage.key),e.R7$(2),e.JRh(null==n.curPage?null:n.curPage.key),e.R7$(5),e.Y8G("type","tabs"),e.R50("activeTab",n.leftTabActive),e.R7$(6),e.Y8G("ngIf",n.componentByPage.length),e.R7$(),e.Y8G("ngIf",!n.componentByPage.length),e.R7$(2),e.Y8G("type","tabs"),e.R50("activeTab",n.rightTabActive),e.R7$(8),e.Y8G("value",n.msg))},dependencies:[I.MWw,_.Qp,y.H$,U.OW,U.je,K.d3,re,Yt,le,Kt,ce,dn,nt,N,gt,yn],styles:['.section[_ngcontent-%COMP%]{display:grid;grid-gap:12px;grid-template-columns:240px auto 280px;grid-template-rows:36px auto;grid-template-areas:"header header header" "left stage right";height:100vh;margin:0}.section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{grid-area:header}.section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex-basis:80%;flex-grow:1;flex-shrink:1;text-align:center;margin:0}.section[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{flex-basis:20%;flex-grow:0;flex-shrink:0;display:flex;justify-content:flex-end;padding:0 8px}.section[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{overflow:auto}.section[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{overflow:auto;border:1px solid red;padding-bottom:120px}.section[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{overflow:auto}.text_center[_ngcontent-%COMP%]{text-align:center}.selected[_ngcontent-%COMP%]{border:1px solid blue}.toolbox[_ngcontent-%COMP%]{position:absolute;right:0;top:0;z-index:10;opacity:.5}.toolbox[_ngcontent-%COMP%]:hover{opacity:unset}']})}return i})()}}]);