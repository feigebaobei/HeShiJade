"use strict";(self.webpackChunkconstructor=self.webpackChunkconstructor||[]).push([[485],{6485:(G,_,r)=>{r.r(_),r.d(_,{AppListModule:()=>K});var f=r(3857),l=r(6994),p=r(1547),C=r(3357),F=r(1744),y=r(4947),O=r(595),h=r(5334),E=r(3132),D=r(1030),m=r(3425),g=r(1445),e=r(9601),M=r(7809),v=r(5680);console;let S=(()=>{class a{constructor(s){this.appService=s,this.newEvent=new e.bkB,this.msg=[],this.initVersion=m.xv,this.layoutOptions=g.PC,this.value=[],this.f=o=>this.onSelectObject(o),this.layout=1}onSelectObject(s){return s?this.appService.reqPluginsKey(s).then(o=>(0,m.kD)(o.data).map((t,n)=>({id:n,option:t}))):(0,M.of)([])}createBtClickH(){this.newEvent.emit("str"),this.msg=[{severity:"info",summary:"Absolute",content:"str",myInfo:"Devui"}]}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(v.d))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-dialog"]],inputs:{data:"data"},outputs:{newEvent:"newEvent"},decls:32,vars:24,consts:[["dForm","","ngForm",""],["dTextInput","","autocomplete","off","name","key","placeholder","\u521b\u5efa\u6210\u529f\u540e\u4e0d\u53ef\u4fee\u6539",3,"ngModelChange","ngModel"],["dTextInput","","autocomplete","off","name","name","placeholder","\u5e94\u7528\u540d\u79f0",3,"ngModelChange","ngModel"],["name","theme",3,"ngModelChange","options","filterKey","valueKey","ngModel"],["name","layout","optionDisabledKey","disabled",3,"ngModelChange","filterKey","valueKey","ngModel","appendToBody","options","placeholder","scrollHight"],["name","pluginsKey",3,"ngModelChange","filterKey","ngModel","multiple","appendToBody","placeholder","allowClear","isSearch","searchFn","scrollHight"],[3,"value"]],template:function(o,t){1&o&&(e.j41(0,"form",0)(1,"d-form-item")(2,"d-form-label"),e.EFF(3,"key"),e.k0s(),e.j41(4,"d-form-control")(5,"input",1),e.mxI("ngModelChange",function(i){return e.DH7(t.data.key,i)||(t.data.key=i),i}),e.k0s()()(),e.j41(6,"d-form-item")(7,"d-form-label"),e.EFF(8,"\u5e94\u7528\u540d\u79f0"),e.k0s(),e.j41(9,"d-form-control")(10,"input",2),e.mxI("ngModelChange",function(i){return e.DH7(t.data.name,i)||(t.data.name=i),i}),e.k0s()()(),e.j41(11,"d-form-item")(12,"d-form-label"),e.EFF(13,"\u4e3b\u9898"),e.k0s(),e.j41(14,"d-form-control")(15,"d-select",3),e.mxI("ngModelChange",function(i){return e.DH7(t.data.theme,i)||(t.data.theme=i),i}),e.k0s()()(),e.j41(16,"d-form-item")(17,"d-form-label"),e.EFF(18,"\u7248\u672c\u53f7"),e.k0s(),e.j41(19,"d-form-control"),e.EFF(20),e.k0s()(),e.j41(21,"d-form-item")(22,"d-form-label"),e.EFF(23,"\u5e03\u5c40"),e.k0s(),e.j41(24,"d-form-control")(25,"d-select",4),e.mxI("ngModelChange",function(i){return e.DH7(t.layout,i)||(t.layout=i),i}),e.k0s()()(),e.j41(26,"d-form-item")(27,"d-form-label"),e.EFF(28,"\u63d2\u4ef6"),e.k0s(),e.j41(29,"d-form-control")(30,"d-select",5),e.mxI("ngModelChange",function(i){return e.DH7(t.value,i)||(t.value=i),i}),e.k0s()()()(),e.nrm(31,"d-toast",6)),2&o&&(e.R7$(5),e.R50("ngModel",t.data.key),e.R7$(5),e.R50("ngModel",t.data.name),e.R7$(5),e.Y8G("options",t.data.selectOptions)("filterKey","label")("valueKey","value"),e.R50("ngModel",t.data.theme),e.R7$(5),e.SpI(" ",t.initVersion," "),e.R7$(5),e.Y8G("filterKey","label")("valueKey","value"),e.R50("ngModel",t.layout),e.Y8G("appendToBody",!0)("options",t.layoutOptions)("placeholder","\u8bf7\u9009\u62e9\u5e03\u5c40\u65b9\u5f0f")("scrollHight","220px"),e.R7$(5),e.Y8G("filterKey","label"),e.R50("ngModel",t.value),e.Y8G("multiple",!0)("appendToBody",!0)("placeholder","\u8bf7\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22\u63d2\u4ef6")("allowClear",!0)("isSearch",!0)("searchFn",t.f)("scrollHight","220px"),e.R7$(),e.Y8G("value",t.msg))},dependencies:[p.N5,p.Me,p.f,p.CW,l.qT,l.me,l.BC,l.cb,l.vS,l.cV,F.wB,y.l,h.d3]})}return a})(),T=(console,[{label:"Option 1",value:1},{label:"Option 2",value:2},{label:"Option 3",value:3},{label:"Option 4",value:4}]),B=(()=>{class a{constructor(s){this.appService=s,this.options=[],this.value=[],this.arr=T,this.f=o=>this.onSelectObject(o),this.layoutOptions=g.PC}onSelectObject(s){return s?this.appService.reqPluginsKey(s).then(o=>(0,m.kD)(o.data).map((t,n)=>({id:n,option:t}))):(0,M.of)([])}ngOnInit(){this.value=this.data.app.pluginsKey}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(v.d))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-app-config-dialog"]],inputs:{data:"data"},decls:26,vars:19,consts:[["dForm","","ngForm",""],["name","layout","optionDisabledKey","disabled",3,"ngModelChange","filterKey","valueKey","ngModel","appendToBody","options","placeholder","scrollHight"],["name","pluginsKey",3,"ngModelChange","filterKey","ngModel","multiple","appendToBody","placeholder","allowClear","isSearch","searchFn","scrollHight"]],template:function(o,t){1&o&&(e.j41(0,"form",0)(1,"d-form-item")(2,"d-form-label"),e.EFF(3,"key: "),e.k0s(),e.j41(4,"d-form-control"),e.EFF(5),e.k0s()(),e.j41(6,"d-form-item")(7,"d-form-label"),e.EFF(8,"name: "),e.k0s(),e.j41(9,"d-form-control"),e.EFF(10),e.k0s()(),e.j41(11,"d-form-item")(12,"d-form-label"),e.EFF(13,"version: "),e.k0s(),e.j41(14,"d-form-control"),e.EFF(15),e.k0s()(),e.j41(16,"d-form-item")(17,"d-form-label"),e.EFF(18,"\u5e03\u5c40: "),e.k0s(),e.j41(19,"d-form-control")(20,"d-select",1),e.mxI("ngModelChange",function(i){return e.DH7(t.data.app.layout,i)||(t.data.app.layout=i),i}),e.k0s()()(),e.j41(21,"d-form-item")(22,"d-form-label"),e.EFF(23,"\u63d2\u4ef6: "),e.k0s(),e.j41(24,"d-form-control")(25,"d-select",2),e.mxI("ngModelChange",function(i){return e.DH7(t.value,i)||(t.value=i),i}),e.k0s()()()()),2&o&&(e.R7$(5),e.JRh(t.data.app.key),e.R7$(5),e.JRh(t.data.app.name),e.R7$(5),e.JRh(t.data.app.version),e.R7$(5),e.Y8G("filterKey","label")("valueKey","value"),e.R50("ngModel",t.data.app.layout),e.Y8G("appendToBody",!0)("options",t.layoutOptions)("placeholder","\u8bf7\u9009\u62e9\u5e03\u5c40\u65b9\u5f0f")("scrollHight","220px"),e.R7$(5),e.Y8G("filterKey","label"),e.R50("ngModel",t.value),e.Y8G("multiple",!0)("appendToBody",!0)("placeholder","\u8bf7\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22\u63d2\u4ef6")("allowClear",!0)("isSearch",!0)("searchFn",t.f)("scrollHight","220px"))},dependencies:[p.N5,p.Me,p.f,p.CW,l.qT,l.BC,l.cb,l.vS,l.cV,F.wB]})}return a})();var H=r(1338);let u=console.log,I=(()=>{class a{constructor(s,o){this.appService=s,this.http=o,this.devVersion=0,this.testVersion=0,this.preVersion=0,this.prodVersion=0,this.newVersion=1,this.layoutDirection=p.Hb.Vertical,this.devObj={version:-1,remarks:""},this.testObj={version:-1,remarks:""},this.preObj={version:-1,remarks:""},this.prodObj={version:-1,remarks:""},this.msg=[],this.loop=(0,m.TI)(this.appService.reqProcess,t=>{let n;switch(t.code){case 0:n=t.data.done.length/t.data.total<1;break;case 3e5:n=!1}})}ngOnInit(){this.appService.getVersion(this.data.appUlid,["dev","test","pre","prod"]).then(s=>{u("syntheticVersion",s),this.devObj.version=s.dev?.version??-1,this.devObj.remarks=s.dev?.remarks??"",this.testObj.version=s.test?.version??-1,this.testObj.remarks=s.test?.remarks??"",this.preObj.version=s.pre?.version??-1,this.preObj.remarks=s.pre?.remarks??"",this.prodObj.version=s.prod?.version??-1,this.prodObj.remarks=s.prod?.remarks??""})}devVersionChangeH(s){u("devVersionChangeH",s,this.devObj.version)}devOkBtClickH(){this.http.post(`${(0,g.Rs)()}/apps/versions`,{appUlid:this.data.appUlid,newVersion:this.newVersion}).subscribe(s=>{u(0===s.code?"\u8bbe\u7f6e\u65b0\u7248\u672c\u6210\u529f":"\u8bbe\u7f6e\u65b0\u7248\u672c\u5931\u8d25")})}devToTestBtClickH(){this.appService.publish({appUlid:this.data.appUlid,fromEnv:"dev",toEnv:"test",newVersion:this.devObj.version,remarks:this.devObj.remarks}).then(s=>{switch(s.code){case 0:this.msg=[{severity:"success",summary:"Summary",content:"\u53d1\u5e03\u6210\u529f\u3002"}],this.appService.updateVersion(this.data.appUlid,"dev",this.devObj.version,this.devObj.remarks),this.appService.updateVersion(this.data.appUlid,"test",this.devObj.version,this.devObj.remarks),this.testObj.version=this.devObj.version,this.testObj.remarks=this.devObj.remarks;break;case 1e5:this.msg=[{severity:"success",summary:"Summary",content:"\u5f00\u59cb\u6267\u884c\u53d1\u5e03\u5de5\u4f5c\u3002"}],this.loop.launch().then(()=>{this.appService.updateVersion(this.data.appUlid,"test",this.devObj.version,this.devObj.remarks),this.testObj.version=this.devObj.version,this.testObj.remarks=this.devObj.remarks});break;default:this.msg=[{severity:"error",summary:"Summary",content:`\u53d1\u5e03\u5931\u8d25\u3002${s.message}`}]}})}testToPreBtClickH(){this.appService.publish({appUlid:this.data.appUlid,fromEnv:"test",toEnv:"pre"}).then(s=>{switch(s.code){case 0:this.msg=[{severity:"success",summary:"Summary",content:"\u53d1\u5e03\u6210\u529f\u3002"}],this.appService.updateVersion(this.data.appUlid,"pre",this.testObj.version,this.testObj.remarks),this.preObj.version=this.testObj.version,this.preObj.remarks=this.testObj.remarks;break;case 1e5:this.msg=[{severity:"success",summary:"Summary",content:"\u5f00\u59cb\u6267\u884c\u53d1\u5e03\u5de5\u4f5c\u3002"}],this.loop.launch().then(()=>{this.appService.updateVersion(this.data.appUlid,"pre",this.testObj.version,this.testObj.remarks),this.preObj.version=this.testObj.version,this.preObj.remarks=this.testObj.remarks});break;default:this.msg=[{severity:"error",summary:"Summary",content:`\u53d1\u5e03\u5931\u8d25\u3002${s.message}`}]}})}preToProdBtClickH(){this.appService.publish({appUlid:this.data.appUlid,fromEnv:"pre",toEnv:"prod"}).then(s=>{switch(s.code){case 0:this.msg=[{severity:"success",summary:"Summary",content:"\u53d1\u5e03\u6210\u529f\u3002"}],this.appService.updateVersion(this.data.appUlid,"prod",this.preObj.version,this.preObj.remarks),this.prodObj.version=this.preObj.version,this.prodObj.remarks=this.preObj.remarks;break;case 1e5:this.msg=[{severity:"success",summary:"Summary",content:"\u5f00\u59cb\u6267\u884c\u53d1\u5e03\u5de5\u4f5c\u3002"}],this.loop.launch().then(()=>{this.appService.updateVersion(this.data.appUlid,"prod",this.preObj.version,this.preObj.remarks),this.prodObj.version=this.preObj.version,this.prodObj.remarks=this.preObj.remarks});break;default:this.msg=[{severity:"error",summary:"Summary",content:`\u53d1\u5e03\u5931\u8d25\u3002${s.message}`}]}})}testToDevClickH(){u("testToDevClickH")}preToDevClickH(){u("preToDevClickH")}prodToDevClickH(){u("prodToDevClickH")}testDeleteBtClickH(){}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(v.d),e.rXU(H.Qq))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-publish-dialog"]],inputs:{data:"data"},decls:49,vars:15,consts:[[1,"box"],[1,"env-box"],["dForm","","ngForm","",3,"layout"],[3,"required","hasHelp","helpTips"],["name","version",1,"input-number",3,"ngModelChange","min","step","ngModel"],["dTextarea","","name","remarks","maxlength","20",3,"ngModelChange","ngModel"],[1,"button-publish",3,"click"],[1,"button-box",3,"click"],[3,"value"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"h4"),e.EFF(3,"dev\u73af\u5883"),e.k0s(),e.j41(4,"form",2)(5,"d-form-item")(6,"d-form-label",3),e.EFF(7,"\u7248\u672c\u53f7"),e.k0s(),e.j41(8,"d-form-control")(9,"d-input-number",4),e.mxI("ngModelChange",function(i){return e.DH7(t.devObj.version,i)||(t.devObj.version=i),i}),e.bIt("ngModelChange",function(i){return t.devVersionChangeH(i)}),e.k0s()()(),e.j41(10,"d-form-item")(11,"d-form-label"),e.EFF(12,"\u5907\u6ce8"),e.k0s(),e.j41(13,"d-form-control")(14,"textarea",5),e.mxI("ngModelChange",function(i){return e.DH7(t.devObj.remarks,i)||(t.devObj.remarks=i),i}),e.k0s()()()()(),e.j41(15,"d-button",6),e.bIt("click",function(){return t.devToTestBtClickH()}),e.EFF(16,"\u53d1\u5e03->"),e.k0s(),e.j41(17,"div",1)(18,"h4"),e.EFF(19,"test\u73af\u5883"),e.k0s(),e.j41(20,"p"),e.EFF(21),e.k0s(),e.j41(22,"p"),e.EFF(23),e.k0s(),e.j41(24,"d-button",7),e.bIt("click",function(){return t.testToDevClickH()}),e.EFF(25,"\u56de\u9000\u5230dev\u73af\u5883"),e.k0s()(),e.j41(26,"d-button",6),e.bIt("click",function(){return t.testToPreBtClickH()}),e.EFF(27,"\u53d1\u5e03->"),e.k0s(),e.j41(28,"div",1)(29,"h4"),e.EFF(30,"pre\u73af\u5883"),e.k0s(),e.j41(31,"p"),e.EFF(32),e.k0s(),e.j41(33,"p"),e.EFF(34),e.k0s(),e.j41(35,"d-button",7),e.bIt("click",function(){return t.preToDevClickH()}),e.EFF(36,"\u56de\u9000\u5230dev\u73af\u5883"),e.k0s()(),e.j41(37,"d-button",6),e.bIt("click",function(){return t.preToProdBtClickH()}),e.EFF(38,"\u53d1\u5e03->"),e.k0s(),e.j41(39,"div",1)(40,"h4"),e.EFF(41,"prod\u73af\u5883"),e.k0s(),e.j41(42,"p"),e.EFF(43),e.k0s(),e.j41(44,"p"),e.EFF(45),e.k0s(),e.j41(46,"d-button",7),e.bIt("click",function(){return t.prodToDevClickH()}),e.EFF(47,"\u56de\u9000\u5230dev\u73af\u5883"),e.k0s()()(),e.nrm(48,"d-toast",8)),2&o&&(e.R7$(4),e.Y8G("layout",t.layoutDirection),e.R7$(2),e.Y8G("required",!0)("hasHelp",!0)("helpTips","This is the plan name."),e.R7$(3),e.Y8G("min",0)("step",1),e.R50("ngModel",t.devObj.version),e.R7$(5),e.R50("ngModel",t.devObj.remarks),e.R7$(7),e.SpI("",t.testObj.version,"\u7248\u672c"),e.R7$(2),e.JRh(t.testObj.remarks),e.R7$(9),e.SpI("",t.preObj.version,"\u7248\u672c"),e.R7$(2),e.JRh(t.preObj.remarks),e.R7$(9),e.SpI("",t.prodObj.version,"\u7248\u672c"),e.R7$(2),e.JRh(t.prodObj.remarks),e.R7$(3),e.Y8G("value",t.msg))},dependencies:[p.N5,p.Me,p.f,p.CW,l.qT,l.me,l.BC,l.cb,l.tU,l.vS,l.cV,C.Qp,O.n,h.d3],styles:[".box[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px auto 200px auto 200px auto 200px;grid-gap:16px}.box[_ngcontent-%COMP%]   .button-publish[_ngcontent-%COMP%]{align-self:center}.box[_ngcontent-%COMP%]   .env-box[_ngcontent-%COMP%]{border:1px solid #bab5b5;padding:12px}"]})}return a})();var R=r(4993),x=r(678),P=r(5738);function A(a,j){if(1&a){const s=e.RV6();e.j41(0,"div",12),e.bIt("click",function(){const t=e.eBV(s).$implicit,n=e.XpG(2);return e.Njj(n.appItemClickH(t.ulid))}),e.j41(1,"p",13)(2,"span"),e.EFF(3,"key:"),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s()(),e.j41(6,"p",13)(7,"span"),e.EFF(8,"name:"),e.k0s(),e.j41(9,"span"),e.EFF(10),e.k0s()(),e.j41(11,"p",13)(12,"span"),e.EFF(13,"theme:"),e.k0s(),e.j41(14,"span"),e.EFF(15),e.k0s()(),e.j41(16,"p",14)(17,"d-button",6),e.bIt("click",function(t){const n=e.eBV(s).index,i=e.XpG(2);return e.Njj(i.configBtClickH(t,n))}),e.EFF(18,"\u914d\u7f6e"),e.k0s(),e.j41(19,"d-button",6),e.bIt("click",function(t){const n=e.eBV(s).index,i=e.XpG(2);return e.Njj(i.gotoPublishBtClickH(t,n))}),e.EFF(20,"\u7248\u672c&\u53d1\u5e03"),e.k0s(),e.j41(21,"d-button",6),e.bIt("click",function(t){const n=e.eBV(s).index,i=e.XpG(2);return e.Njj(i.appDeleteClickH(t,n))}),e.EFF(22,"\u5220\u9664"),e.k0s()()()}if(2&a){const s=j.$implicit;e.R7$(5),e.JRh(s.key),e.R7$(5),e.JRh(s.name),e.R7$(5),e.JRh(s.theme)}}function L(a,j){if(1&a&&(e.j41(0,"section",10),e.DNE(1,A,23,3,"div",11),e.k0s()),2&a){const s=e.XpG();e.R7$(),e.Y8G("ngForOf",s.appList)}}function U(a,j){if(1&a&&(e.j41(0,"section",10)(1,"p"),e.EFF(2),e.k0s()()),2&a){const s=e.XpG();e.R7$(2),e.JRh(s.text.noApp)}}let b=console.log;const V=[{path:"",component:(()=>{class a{constructor(s,o,t,n,i,d){this.router=s,this.dialogService=o,this.appService=t,this.userService=n,this.pageService=i,this.componentService=d,this.userService.getUser().then(c=>{this.user=c}),this.msg=[],this.appList=[],this.text=g.Qq}ngOnInit(){this.init()}init(){this.appService.getAppList().then(s=>{this.appList=s})}logoutBtClickH(){this.userService.logout().then(()=>{this.router.navigate(["/"])}).catch(s=>{b("\u767b\u51fa\u5931\u8d25")})}userInfoBtClickH(){}gotoHomeInfoBtClickH(){this.router.navigate(["/"])}openModalBtClickH(){let s=this.dialogService.open({id:"dialog-service",width:"346px",maxHeight:"600px",title:"\u521b\u5efa\u65b0\u5e94\u7528",content:S,backdropCloseable:!0,onClose:()=>console.log("on dialog closed"),data:{key:"one",name:"one",members:"123@qq.com,kevin@163.com",theme:"blue",selectOptions:[{value:"blue",label:"\u84dd"},{value:"yellow",label:"\u9ec4"}]},buttons:[{cssClass:"primary",text:"\u521b\u5efa",disabled:!1,handler:o=>{let t=s.modalContentInstance.data,n=s.modalContentInstance.layout,i=s.modalContentInstance.value,d=t.members.split(",").map(c=>c.trim()).filter(c=>!!c);d=[...new Set(d)],this.userService.getUser().then(c=>{let k=(0,m.b4)(t.key,t.name,t.theme,c.profile.email,void 0,n,i);this.appList.push(k),this.userService.appendApp(k.ulid),this.appService.createApp(k),this.pageService.createApp(k.ulid)}),s.modalInstance.hide()}},{id:"btn-cancel",cssClass:"common",text:"\u53d6\u6d88",handler:o=>{s.modalInstance.hide()}}]})}appItemClickH(s){this.appService.setCurApp(s),this.router.navigate(["/setup"],{queryParams:{app:s}})}sqlBtClickH(){this.reqAppList()}reqAppList(){this.appService.reqAppList().then(s=>{this.appService.opAppList(s),this.init(),this.msg=[{severity:"success",summary:"",content:"\u5df2\u7ecf\u66f4\u65b0\u5e94\u7528\u5217\u8868"}]})}configBtClickH(s,o){s.stopPropagation();let t=this.appList[o],n=this.dialogService.open({id:"app-config-dialog-service",width:"346px",maxHeight:"600px",title:"\u5e94\u7528\u914d\u7f6e",content:B,backdropCloseable:!0,onClose:()=>b("hi close"),data:{app:this.appList[o]},dialogtype:"standard",showAnimate:!0,buttons:[{cssClass:"primary",text:"\u786e\u5b9a",disabled:!1,handler:i=>{let d=n.modalContentInstance.data;this.appService.updateApp(t.ulid,{pluginsKey:d.app.pluginsKey,layout:d.app.layout}).then(()=>{n.modalInstance.hide()})}},{id:"app-config-dialog-btn-canncel",cssClass:"common",text:"\u53d6\u6d88",handler:i=>{n.modalInstance.hide()}}]})}gotoPublishBtClickH(s,o){b("gotoPublishBtClickH",o,this.appList[o],this.appList[o].ulid),s.stopPropagation(),this.dialogService.open({id:"PublishDialogComponent",width:"800px",maxHeight:"600px",title:"\u53d1\u5e03",content:I,backdropCloseable:!0,onClose:()=>b("close"),data:{appUlid:this.appList[o].ulid},dialogtype:"standard",showAnimate:!0,buttons:[]})}homeBtClickH(){this.router.navigate(["/home"])}appDeleteClickH(s,o){s.stopPropagation();let t=this.appList[o];this.appList.splice(o,1),this.appService.reqDeleteApp(t.ulid,["dev","test","pre","prod"]),this.pageService.getPageList(t.ulid,!0).then(n=>{n.forEach(i=>{this.componentService.deleteComponentByPageUlid(i.ulid)})}),this.pageService.deletePageByAppUlid(t.ulid),this.appService.deleteApp(t.ulid),this.userService.deleteApp(t.ulid,this.appList[0]?.ulid||"")}static#e=this.\u0275fac=function(o){return new(o||a)(e.rXU(D.Ix),e.rXU(E.o3),e.rXU(v.d),e.rXU(R.D),e.rXU(x.b),e.rXU(P.b))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-list"]],decls:22,vars:4,consts:[["noApp",""],[1,"header"],[1,"logo-box"],[1,"logo"],[1,""],[1,"right"],[3,"click"],[1,"button-box"],["class","app_section",4,"ngIf","ngIfElse"],[3,"value"],[1,"app_section"],["class","app_box",3,"click",4,"ngFor","ngForOf"],[1,"app_box",3,"click"],[1,"paragraph"],[1,"paragraph-button-box"]],template:function(o,t){if(1&o){const n=e.RV6();e.j41(0,"header",1)(1,"div",2),e.nrm(2,"span",3),e.j41(3,"span",4),e.EFF(4,"HeShiJade"),e.k0s()(),e.j41(5,"div",5)(6,"span"),e.EFF(7),e.k0s(),e.j41(8,"d-button",6),e.bIt("click",function(){return e.eBV(n),e.Njj(t.logoutBtClickH())}),e.EFF(9,"logout"),e.k0s(),e.j41(10,"d-button",6),e.bIt("click",function(){return e.eBV(n),e.Njj(t.homeBtClickH())}),e.EFF(11,"home"),e.k0s()()(),e.j41(12,"main")(13,"div",7)(14,"d-button",6),e.bIt("click",function(){return e.eBV(n),e.Njj(t.openModalBtClickH())}),e.EFF(15,"\u521b\u5efa\u65b0\u5e94\u7528"),e.k0s(),e.j41(16,"d-button",6),e.bIt("click",function(){return e.eBV(n),e.Njj(t.sqlBtClickH())}),e.EFF(17,"\u5237\u65b0\u5e94\u7528\u5217\u8868"),e.k0s()(),e.DNE(18,L,2,1,"section",8)(19,U,3,1,"ng-template",null,0,e.C5r),e.k0s(),e.nrm(21,"d-toast",9)}if(2&o){const n=e.sdS(20);e.R7$(7),e.SpI("\u7528\u6237\u8d26\u53f7\uff1a",null==t.user||null==t.user.profile?null:t.user.profile.email,""),e.R7$(11),e.Y8G("ngIf",t.appList.length)("ngIfElse",n),e.R7$(3),e.Y8G("value",t.msg)}},dependencies:[f.Sq,f.bT,C.Qp,h.d3],styles:[".app_section[_ngcontent-%COMP%]{display:grid;row-gap:12px;column-gap:16px;grid-template-columns:repeat(4,minmax(280px,320px));padding:0 16px}.app_box[_ngcontent-%COMP%]{border:1px solid #b1b0b2;flex-basis:360px;flex-grow:0;flex-shrink:1;cursor:pointer;padding:8px}.paragraph[_ngcontent-%COMP%]{margin:4px}.paragraph-button-box[_ngcontent-%COMP%]{display:flex;column-gap:8px}.header[_ngcontent-%COMP%]{background:#9ef7c3;padding:8px;display:flex;justify-content:space-between;align-items:center}.content-box[_ngcontent-%COMP%]{margin:0 auto;max-width:1200px}.logo-box[_ngcontent-%COMP%]{font-size:22px;display:flex;align-items:center}.logo[_ngcontent-%COMP%]{border-radius:50px;border:18px solid #fdfdfd;box-sizing:border-box;width:56px;height:56px;display:inline-block;margin-right:18px}.right[_ngcontent-%COMP%]{display:flex;column-gap:8px}.button-box[_ngcontent-%COMP%]{display:flex;column-gap:8px;padding:8px 16px}"]})}return a})()}];let K=(()=>{class a{static#e=this.\u0275fac=function(o){return new(o||a)};static#t=this.\u0275mod=e.$C({type:a});static#s=this.\u0275inj=e.G2t({imports:[D.iI.forChild(V),f.MD,p.tH,l.YN,C.tm,F.py,y._,O.O,h.MB,E.Q_]})}return a})()}}]);